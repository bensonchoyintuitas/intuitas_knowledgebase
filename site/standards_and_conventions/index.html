<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Standards - Intuitas Data Intelligence Blueprint</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../assets/custom.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Intuitas Data Intelligence Blueprint</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../level_0/" class="nav-link">Level 0</a>
                            </li>
                            <li class="nav-item">
                                <a href="../level_1/" class="nav-link">Level 1</a>
                            </li>
                            <li class="nav-item">
                                <a href="../level_2/" class="nav-link">Level 2</a>
                            </li>
                            <li class="nav-item">
                                <a href="../modelling_framework/" class="nav-link">Models</a>
                            </li>
                            <li class="nav-item">
                                <a href="./" class="nav-link active" aria-current="page">Standards</a>
                            </li>
                            <li class="nav-item">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../modelling_framework/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../about/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#standards-and-conventions" class="nav-link">Standards and Conventions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#mesh" class="nav-link">Mesh</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#platform" class="nav-link">Platform</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#databricks" class="nav-link">Databricks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#azure-data-factory" class="nav-link">Azure Data Factory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#streaming" class="nav-link">Streaming</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#dbt" class="nav-link">dbt</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#cicd" class="nav-link">CI/CD</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#security" class="nav-link">Security</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="standards-and-conventions">Standards and Conventions</h1>
<p><a href="../">Return to home</a></p>
<p>These standards are opinionated and designed to ensure consistency, governance, and automation across an organisation. They largely reflect an Azure Databricks environment, however can be adapted to other platforms. Organisations should adapt these standards to fit their existing internal conventions. 
<br></p>
<h2 id="table-of-contents">Table of Contents</h2>
<hr />
<ul>
<li><a href="./#mesh">Mesh</a><ul>
<li><a href="./#domain-names">Domain Names</a></li>
</ul>
</li>
<li><a href="./#platform">Platform</a><ul>
<li><a href="./#environment">Environment</a></li>
<li><a href="./#vnet">VNET</a></li>
<li><a href="./#resource-groups">Resource Groups</a></li>
<li><a href="./#databricks-workspace">Databricks workspace</a></li>
<li><a href="./#key-vault">Key vault</a></li>
<li><a href="./#secrets">Secrets</a></li>
<li><a href="./#entra-group-names">Entra Group Names</a></li>
<li><a href="./#azure-data-factory-adf">Azure Data Factory (ADF)</a></li>
<li><a href="./#sql-server">SQL Server</a></li>
<li><a href="./#sql-database">SQL Database</a></li>
<li><a href="./#storage">Storage</a><ul>
<li><a href="./#lakehouse-storage">Lakehouse Storage</a></li>
<li><a href="./#lakehouse-storage-containers">Lakehouse Storage Containers</a></li>
<li><a href="./#lakehouse-storage-folders">Lakehouse Storage Folders</a></li>
<li><a href="./#generic-blob-storage">Generic Blob Storage</a></li>
<li><a href="./#generic-blob-files-and-folders">Generic Blob Files and Folders</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="./#databricks">Databricks</a><ul>
<li><a href="./#workspace-and-cluster-names">Workspace and Cluster Names</a></li>
<li><a href="./#catalog-naming-and-conventions">Catalog</a></li>
<li><a href="./#schema-and-object-conventions">Schema and Object Conventions</a></li>
<li><a href="./#delta-sharing">Delta Sharing</a></li>
</ul>
</li>
<li><a href="./#azure-data-factory">Azure Data Factory</a></li>
<li><a href="./#streaming">Streaming</a></li>
<li><a href="./#dbt">dbt</a><ul>
<li><a href="./#documentation-and-model-metadata">Documentation and Model Metadata</a></li>
<li><a href="./#sources">Sources</a></li>
<li><a href="./#model-and-folder-names">Model and Folder Names</a></li>
<li><a href="./#dbt_projectyml">dbt_project.yml</a></li>
</ul>
</li>
<li><a href="./#cicd">CI/CD</a><ul>
<li><a href="./#repository-naming">Repository Naming</a></li>
<li><a href="./#branch-naming">Branch Naming</a></li>
<li><a href="./#branch-lifecycle">Branch Lifecycle</a></li>
<li><a href="./#databricks-asset-bundles">Databricks Asset Bundles</a></li>
</ul>
</li>
<li><a href="./#security">Security</a><ul>
<li><a href="./#entra">Entra</a></li>
<li><a href="./#policies">Policies</a></li>
<li><a href="./#frameworks">Frameworks</a>
<br>
<br></li>
</ul>
</li>
</ul>
<h2 id="mesh">Mesh</h2>
<h3 id="domain-names">Domain Names</h3>
<p>All lower case: <code>{optional:organisation_}{functional area/domain}_{subdomain}</code></p>
<p><em>e.g: intuitas_corporate</em></p>
<p><br></p>
<h2 id="platform">Platform</h2>
<h3 id="environment">Environment</h3>
<ul>
<li>Environment name: dev/test/prod/sandbox/poc (pat - production acceptance testing is optional as preferred)</li>
</ul>
<h3 id="vnet">VNET</h3>
<ul>
<li>Name: <code>vn-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: vn-intuitas-corporate</em></li>
</ul>
<h3 id="resource-groups">Resource Groups</h3>
<ul>
<li>Name: <code>rg-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: rg-intuitas-corporate</em></li>
</ul>
<h3 id="databricks-workspace">Databricks workspace</h3>
<ul>
<li>Name: <code>ws-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: ws-intuitas-corporate</em></li>
</ul>
<h3 id="key-vault">Key vault</h3>
<ul>
<li>Name: <code>kv-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: kv-intuitas-corporate</em></li>
</ul>
<h3 id="secrets">Secrets</h3>
<ul>
<li>Name: <code>{secret_name}</code></li>
</ul>
<h3 id="entra-group-names">Entra Group Names</h3>
<ul>
<li>Name: <code>eg-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: eg-intuitas-corporate</em></li>
</ul>
<h3 id="azure-data-factory-adf">Azure Data Factory (ADF)</h3>
<ul>
<li>Name: <code>adf-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: adf-intuitas-corporate</em></li>
</ul>
<h3 id="sql-server">SQL Server</h3>
<ul>
<li>Name: <code>sql-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: sql-intuitas-corporate</em></li>
</ul>
<h3 id="sql-database">SQL Database</h3>
<ul>
<li>Name: <code>sqldb-{purpose}-{organisation_name}-{domain_name}-{optional:environment}</code></li>
<li><em>e.g: sqldb-metadata-intuitas-corporate</em></li>
</ul>
<h3 id="storage">Storage</h3>
<p>The section describes naming standards and conventions for cloud storage resources.</p>
<h4 id="lakehouse-storage">Lakehouse storage</h4>
<ul>
<li>Lakehouse storage account name: <code>dl{organisation_name}{domain_name}</code></li>
</ul>
<h4 id="lakehouse-storage-containers">Lakehouse storage containers</h4>
<ul>
<li>Name: <code>{environment} (dev/test/preprod/prod)</code></li>
</ul>
<h5 id="lakehouse-storage-folders">Lakehouse storage folders</h5>
<ul>
<li>Level 1 Name: <code>{zone} (raw/edw/infomart)</code> // (bronze/silver/gold)` if using medallion approach</li>
<li>Level 2 Name: <code>{layer_name}</code></li>
<li>
<p><em>e.g:</em></p>
</li>
<li>
<p><em>raw/landing</em></p>
</li>
<li><em>raw/ods</em></li>
<li><em>raw/pds</em></li>
<li><em>raw/schema</em> (for autoloader metadata)</li>
<li><em>raw/checkpoints</em> (for autoloader metadata)</li>
<li><em>edw/automatically determined by unity catalog</em></li>
<li><em>infomart/automatically determined by unity catalog</em></li>
</ul>
<h4 id="generic-blob-storage">Generic Blob storage</h4>
<p>Generic Blob storage can be used for all non-lakehouse data; or alternatively within the lakehouse storage account in the appropriate container and folder.</p>
<ul>
<li>Resource: ADLSGen2</li>
<li>Generic storage account name: <code>sa{organisation_name}{domain_name}{functional_description}</code></li>
<li>Tier: Standard/Premium (depends on workload)</li>
<li>
<p>Redundancy: </p>
</li>
<li>
<p>Minimum ZRS or GRS for prod</p>
</li>
<li>Minimum LRS for poc, dev, test and preprod</li>
</ul>
<h4 id="generic-blob-files-and-folders">Generic Blob files and folders</h4>
<p>No standard naming conventions for files and folders.</p>
<p><br></p>
<h2 id="databricks">Databricks</h2>
<hr />
<p>This section provides naming standards and conventions for Databricks.</p>
<h3 id="workspace-and-cluster-names">Workspace and cluster names</h3>
<hr />
<ul>
<li>Workspace name: <code>ws-{organisation_name}_{domain_name}</code></li>
<li>Cluster name: <code>{personal_name/shared_name} Cluster</code></li>
<li>Workflow name: <code>{dev/test} {workflow_name}</code></li>
</ul>
<h3 id="jobs-and-pipelines">Jobs and Pipelines</h3>
<h4 id="job-names">Job names</h4>
<hr />
<ul>
<li>Job names: <code>{domain}__{zone}__{purpose}__{source}{optional: __target}{optional: __schedule}{optional: __version}__{env}</code></li>
<li><em>e.g. clinical__raw__ingest__fhircdr__dev</em></li>
</ul>
<h4 id="for-delta-live-table-dlt-pipelines">For Delta Live Table (DLT) Pipelines</h4>
<hr />
<ul>
<li>Pipeline names: <code>{domain_name}__{zone}__pipeline__{dataset}{optional: __schedule}{optional: __version}__{env}</code></li>
<li><em>e.g. clinical__raw__pipeline__fhircdr__dev</em></li>
<li><em>e.g. supplychain__infomart__pipeline__inventorymart__prod</em></li>
</ul>
<p><strong>Note on zone terminology:</strong>
- This framework uses <code>raw/edw/infomart</code> terminology (aligns with enterprise data warehousing concepts)
- Databricks documentation uses <code>bronze/silver/gold</code> terminology (medallion architecture)
- Both are valid; choose one and use consistently:
  - <code>raw</code> = <code>bronze</code> (raw ingested data)
  - <code>edw</code> = <code>silver</code> (cleaned, conformed data)
  - <code>infomart</code> = <code>gold</code> (business-ready aggregated data)</p>
<ul>
<li>
<p>Note on {zone}: If the 'business outcome' is Infomart, you call it Infomart, even if it produces Raw + EDW on the way.
<em>i.e "This is the production DLT pipeline in the supply chain domain, which builds and maintains the curated Infomart zone dataset called Inventory Mart"</em></p>
</li>
<li>
<p>Include pipeline so it’s distinguishable from ad hoc jobs.</p>
</li>
<li>Dataset can be a logical grouping (e.g., patient, encounter, claims).</li>
</ul>
<h4 id="orchestration-job-names">Orchestration job names</h4>
<hr />
<ul>
<li>Orchestration job names: <code>{domain}__orchestration__{workflow-name}{optional: __schedule}{optional: __version}__{env}</code></li>
<li><em>e.g. clinical__orchestrate__fhirworkflow__daily__dev</em></li>
</ul>
<p>which then orchestrates: </p>
<ul>
<li><em>clinical__raw__pipeline__fhircdr__prod</em> (or <code>clinical__bronze__pipeline__fhircdr__prod</code> if using medallion terminology)</li>
<li><em>clinical__edw__pipeline__fhirclean__prod</em> (or <code>clinical__silver__pipeline__fhirclean__prod</code> if using medallion terminology)</li>
<li><em>clinical__infomart__pipeline__clinicalmart__prod</em> (or <code>clinical__gold__pipeline__clinicalmart__prod</code> if using medallion terminology)</li>
</ul>
<h4 id="job-logging">Job logging</h4>
<ul>
<li>event log catalog: <code>{domain}__audit__{env}</code></li>
<li>event log schema: <code>audit__event_log</code></li>
</ul>
<h4 id="optional">Optional</h4>
<ul>
<li>Versioning (if needed): add v1, v2 if a job is redesigned but old one stays around.</li>
<li>Scheduling frequency (optional): suffix with _hourly, _daily, _weekly if relevant.</li>
</ul>
<h3 id="catalog-naming-and-conventions">Catalog naming and conventions</h3>
<hr />
<p>Refer to <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for further context and definitions applicable to this section.</p>
<p>Catalog name: </p>
<p>The choice of granularity depends on domain topology, zone and layer conventions, and desired level of segregation for access and sharing controls (i.e. catalog or layer level)</p>
<ul>
<li>Minimum granularity (domain level): <code>{domain_name}{__environment (dev/test/pat/prod)}</code> (prod is implied optional)   <em>e.g: corporate__dev</em></li>
<li>Optional granularity (domain-zone level): <code>{domain_name}{_zone: (raw/edw/infomart)}{__environment (dev/test/pat/prod)}</code>    <em>e.g: corporate_raw__dev</em></li>
<li>Optional granularity (domain-zone and layer level): <code>{domain_name}{_zone: (raw/edw/infomart)}{_layer: (ods/pds/stg/ref/mart)}{__environment (dev/test/pat/prod)}</code>    <em>e.g: corporate_raw_ods__dev</em></li>
<li>Optional granularity (domain-layer level): <code>{domain_name}{_layer: (ods/pds/stg/ref/mart)}{__environment (dev/test/pat/prod)}</code>    <em>e.g: corporate_ods__dev</em></li>
<li>Optional granularity (subdomain-zone level): <code>{domain_name}{_descriptor (subdomain/subject/project*)}{_zone: (raw/edw/infomart)}{__environment (dev/test/pat/prod)}</code>    <em>e.g: corporate_finance_raw__dev</em></li>
</ul>
<p>In the examples provided - we have opted for domain level - with schema separation for the lower levels of grain via prefixes. i.e <code>engineering__dev.ods__fhirhouse__dbo__lakeflow.encounter</code></p>
<p><em>Note that projects are temporary constructs, and hence are not recommended for naming</em></p>
<ul>
<li>Catalog storage root: <code>abfss://{environment}@dl{organisation_name}{domain_name}.dfs.core.windows.net/{domain_name}_{environment}_catalog</code></li>
</ul>
<h3 id="externally-mounted-lakehouse-federation-catalog-names">Externally mounted (lakehouse federation) Catalog Names</h3>
<ul>
<li>Foreign Catalog name: <code>{domain_name (owner)}__fc__{source_system}{optional:__other_useful_descriptors e.g:__environment}</code></li>
<li><em>e.g: corporate__fc__sqlonpremsource</em></li>
<li><em>e.g: corporate__fc__sqlonpremsource__prod</em></li>
</ul>
<h3 id="catalog-metadata-tags">Catalog Metadata tags:</h3>
<p>The following metadata should be added when creating a catalog:</p>
<ul>
<li>Key: domain (owner): <code>{domain_name}</code></li>
<li>Key: environment: <code>{environment}</code></li>
<li>Key: managing_domain: <code>{domain_name}</code> e.g: if delegating to engineering domain</li>
</ul>
<h3 id="schema-and-object-conventions">Schema and object conventions</h3>
<hr />
<p>Refer to <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for further context and definitions applicable to this section.</p>
<p>Refer to <a href="../modelling_standards_and_conventions/#physical-models">Physical Models</a> for the standard relating to column naming, types, and conventions.</p>
<p><strong>Terminology Hierarchy:</strong></p>
<p>Data is organized in a three-level hierarchy:
- <strong>Zone</strong> = Top-level organizational boundary (Raw, EDW, Infomart)
  - <em>Within each zone, data flows through...</em>
- <strong>Layer</strong> = Processing layers within a zone (landing, ods, pds, stg, ref, mart, etc.)
  - <em>Each layer typically maps to...</em>
- <strong>Schema</strong> = Unity Catalog schema that stores objects (ods, pds, edw_stg, edw_ref, edw, im_stg, im)</p>
<p>Example: The <strong>Raw zone</strong> contains the <strong>ODS layer</strong> which maps to the <strong>ods schema</strong>.</p>
<h4 id="schema-level-external-storage-locations">Schema level external storage locations</h4>
<p>Recommendations:</p>
<ul>
<li>For managed tables (default): do nothing.  Let dbt create schemas without additional configuration. Databricks will manage storage and metadata.Objects will then be stored in the catalog storage root. <em>e.g: abfss://dev@dlintuitas{domain}.dfs.core.windows.net/engineering__dev_catalog/__unitystorage/catalogs/catalog-guid/tables/object-guid</em></li>
<li>For granular control over schema-level storage locations: Pre-create schemas with LOCATION mapped to external paths or configure the catalog-level location.</li>
<li>Ensure dbt's dbt_project.yml and environment variables align with storage locations.</li>
</ul>
<h4 id="metadata-schemas-and-objects">Metadata Schemas and Objects</h4>
<p>Refer to <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for further context and definitions applicable to this section.</p>
<p>Contains metadata that supports engineering and governance. This will vary depending on engineering and governance toolsets</p>
<p><strong>Engineering - ingestion framework</strong>:</p>
<ul>
<li>Schema naming convention:  <code>meta {optional: __function}</code></li>
<li>Naming convention: <code>{function/descriptor}</code></li>
<li><em>e.g: corporate__dev.meta.ingestion_control</em></li>
<li><em>e.g: corporate__dev.meta__ingestion.ingestion_control</em></li>
</ul>
<h4 id="raw-aka-bronze-data-according-to-systems">Raw (aka Bronze) (Data according to systems)</h4>
<p>The Raw zone stores raw, immutable data as it is ingested from source systems. See <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for definitions and context.</p>
<p>The Raw zone uses two primary schemas:
- <strong><code>ods</code></strong> - Operational Data Store (current state)
- <strong><code>pds</code></strong> - Persistent Data Store (historical snapshots)</p>
<p>In the examples provided - we have opted for domain level catalogs - with schema separation for the lower levels of grain via prefixes. i.e <code>engineering__dev.ods__fhirhouse__dbo__lakeflow.encounter</code></p>
<p><em>Note: Using consistent double underscore (<code>__</code>) delimiters throughout ensures compatibility with Databricks and avoids parsing issues. Parentheses notation (e.g., <code>dbo(adf)</code>) should be avoided in schema and object names.</em></p>
<p><strong>Persistent Landing</strong>:</p>
<p>Persistent Landing uses Unity Catalog Volumes for storing raw files and unstructured data as they arrive from source systems.</p>
<p>Volume naming convention: <code>[domain][__env].[layer][__source_system][__source_schema][__channel].[source_object/volume_name]</code></p>
<ul>
<li><code>[domain][__env]</code>: Domain and environment identifier (e.g., <code>corporate_dev</code>, <code>engineering_prod</code>)</li>
<li><code>[layer]</code>: Data layer identifier within the Raw zone (e.g., <code>landing</code>)</li>
<li><code>[__source_system]</code>: Source system identifier (e.g., <code>workdayapi</code>, <code>saphr</code>)</li>
<li><code>[__source_schema]</code>: Optional source schema or subsystem identifier</li>
<li><code>[__channel]</code>: Optional ingestion channel/method (e.g., <code>__adf</code>, <code>__fivetran</code>, <code>__api</code>)</li>
<li>
<p><code>[source_object/volume_name]</code>: Descriptive volume name or source object identifier</p>
</li>
<li>
<p><em>e.g: corporate__dev.landing__workdayapi.schedule_volume</em></p>
</li>
<li><em>e.g: engineering__prod.landing__fhirapi__patients.raw_data</em></li>
</ul>
<p><strong>Operational Data Store (ODS)</strong>:</p>
<p>The objective of raw zone conventions is to provide clarity over which zone, layer, and schema it belongs to, what the data relates to, where it was sourced from, and via what channel it arrived (as there may be nuances in data depending on its channel).</p>
<p>ODS can be replicated from source systems, or prepared for use from semi/unstructured data via hard-transformation and hence will have these associated conventions:</p>
<p>Database replicated ODS (structured sources like SQL Server):</p>
<p>Format: <code>[domain][__env].[layer][__source_system][__source_schema][__channel].[source_object/volume_name]</code></p>
<ul>
<li><code>[domain][__env]</code>: Domain and environment (e.g., <code>clinical__dev</code>)</li>
<li><code>[layer]</code>: Data layer within the Raw zone (e.g., <code>ods</code>)</li>
<li><code>[__source_system]</code>: Source system identifier</li>
<li><code>[__source_schema]</code>: Source schema (if applicable, e.g., <code>__dbo</code>, <code>__reporting</code>)</li>
<li><code>[__channel]</code>: Optional ingestion channel (e.g., <code>__adf</code>, <code>__fivetran</code>, <code>__lakeflow</code>)</li>
<li>
<p><code>[source_object/volume_name]</code>: Table name as per source</p>
</li>
<li>
<p><em>e.g: clinical__dev.ods__patientflowmanager01__reporting.patients</em></p>
</li>
<li><em>e.g: clinical__dev.ods__fhirhouse__dbo__adf.encounter</em></li>
</ul>
<p>Prepped semi/unstructured ODS data:</p>
<p>Format: <code>[domain][__env].[layer][__source_system][__source_descriptor][__channel].[source_object/volume_name]</code></p>
<ul>
<li><code>[domain][__env]</code>: Domain and environment (e.g., <code>clinical__dev</code>)</li>
<li><code>[layer]</code>: Data layer within the Raw zone (e.g., <code>ods</code>)</li>
<li><code>[__source_system]</code>: Source system identifier</li>
<li><code>[__source_descriptor]</code>: Source descriptor or subsystem identifier</li>
<li><code>[__channel]</code>: Optional ingestion channel (e.g., <code>__kafka</code>, <code>__databricks</code>, <code>__api</code>)</li>
<li>
<p><code>[source_object/volume_name]</code>: Named as per source or unique assigned name (e.g., topic/folder name)</p>
</li>
<li>
<p><em>e.g: clinical__dev.ods__ambosim__confluent__kafka.encounter</em></p>
</li>
<li><em>e.g: corporate__dev.ods__workdayapi__employees.raw_data</em></li>
</ul>
<p><strong>Persistent Data Store (PDS)</strong>:</p>
<p>PDS conventions will mirror ODS conventions:</p>
<p>Database replicated PDS (structured sources like SQL Server):</p>
<p>Format: <code>[domain][__env].[layer][__source_system][__source_schema][__channel].[source_object/volume_name]</code></p>
<ul>
<li><code>[domain][__env]</code>: Domain and environment (e.g., <code>clinical__dev</code>)</li>
<li><code>[layer]</code>: Data layer within the Raw zone (e.g., <code>pds</code>)</li>
<li><code>[__source_system]</code>: Source system identifier</li>
<li><code>[__source_schema]</code>: Source schema (if applicable, e.g., <code>__dbo</code>, <code>__reporting</code>)</li>
<li><code>[__channel]</code>: Optional ingestion channel (e.g., <code>__adf</code>, <code>__fivetran</code>, <code>__lakeflow</code>)</li>
<li>
<p><code>[source_object/volume_name]</code>: Table name as per source</p>
</li>
<li>
<p><em>e.g: clinical__dev.pds__patientflowmanager01__reporting.patients</em></p>
</li>
<li><em>e.g: clinical__dev.pds__fhirhouse__dbo__adf.encounter</em></li>
</ul>
<p>Prepped semi/unstructured PDS data:</p>
<p>Format: <code>[domain][__env].[layer][__source_system][__source_descriptor][__channel].[source_object/volume_name]</code></p>
<ul>
<li><code>[domain][__env]</code>: Domain and environment (e.g., <code>clinical__dev</code>)</li>
<li><code>[layer]</code>: Data layer within the Raw zone (e.g., <code>pds</code>)</li>
<li><code>[__source_system]</code>: Source system identifier</li>
<li><code>[__source_descriptor]</code>: Source descriptor or subsystem identifier</li>
<li><code>[__channel]</code>: Optional ingestion channel (e.g., <code>__kafka</code>, <code>__databricks</code>, <code>__api</code>)</li>
<li>
<p><code>[source_object/volume_name]</code>: Named as per source or unique assigned name (e.g., topic/folder name)</p>
</li>
<li>
<p><em>e.g: clinical__dev.pds__ambosim__confluent__kafka.encounter</em></p>
</li>
<li><em>e.g: corporate__dev.pds__workdayapi__employees.raw_data</em></li>
</ul>
<h4 id="edw-aka-silver-data-according-to-business-entities">EDW (aka Silver) (Data according to business entities)</h4>
<p>The EDW (Enterprise Data Warehouse) zone focuses on transforming raw data into cleaned, enriched, and validated datasets that are the building blocks for downstream consumption and analysis.</p>
<p>Refer to <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for further context and definitions applicable to this section.</p>
<p>The EDW zone uses three primary schemas:
- <strong><code>edw_stg</code></strong> - Source-centric and entity-centric staging objects (transformations, cleaning, normalization, integration)
- <strong><code>edw_ref</code></strong> - Reference data (curated, conformed reference entities and code sets intended for broad reuse)
- <strong><code>edw</code></strong> - Base marts (full-featured dimensions with SCD logic, facts - curated entities)</p>
<p>These marts are objects that are aligned to business entities and broad requirements, hence they must contain source-specific objects at the lowest grain. There may be further enrichment and joins applied across sources.</p>
<p>In the examples provided - we have opted for domain level catalogs - with schema separation for the lower levels of grain via prefixes. i.e <code>engineering__dev.edw.dim_customer</code></p>
<ul>
<li>All schemas may be optionally prefixed with additional descriptors if not already decomposed at domain-level i.e. <code>edw_stg__</code>, <code>edw_ref__</code>, <code>edw__</code></li>
<li>All <code>entity</code> names which align to facts should be named in plural.</li>
<li>All <code>entity</code> names which align to dims should be named in singular.</li>
</ul>
<p><br></p>
<p><strong>EDW Staging Objects</strong>:
Staging models serve as intermediary models that transform source data into EDW models. According to dbt best practices, there is a distinction between Staging and Intermediate models. Under this blueprint the use of Intermediate models is optional. <a href="https://docs.getdbt.com/best-practices/how-we-structure/1-guide-overview">Reference</a></p>
<p><strong>Two Complementary Staging Approaches:</strong></p>
<p>EDW staging supports two patterns that work together:</p>
<ol>
<li><strong>Source-Centric Staging</strong> - Organized by source system:</li>
<li>Cleans and normalizes data from each source independently</li>
<li>May feed data quality test results to reports for actioning</li>
<li>Prepares reference data for broad use and maps it for mart conformance</li>
<li>
<p>Creates mappings of keys to resolve system keys to universal surrogate or business keys</p>
</li>
<li>
<p><strong>Entity-Centric Staging</strong> - Organized by business entity:</p>
</li>
<li>Integrates data across multiple source-centric staging models</li>
<li>Applies cross-source deduplication and conflict resolution</li>
<li>Establishes unified entity keys and relationships</li>
<li>Creates a single, conformed view of each business entity</li>
</ol>
<p><strong>Typical Flow:</strong></p>
<pre><code>Raw Sources → Source-Centric Staging → Entity-Centric Staging → Base Marts (Dimensions/Facts)
</code></pre>
<p><strong>Source-Centric Staging Approach:</strong></p>
<p>Staging objects are organized around source systems and source objects, cleaning and normalizing data according to expectations/standards. This approach:
- Cleans and normalizes data from each source independently
- May feed data quality test results to reports for actioning
- Prepares reference data for broad use and maps it for mart conformance
- Creates mappings of keys to resolve and map system keys to universal surrogate keys or business keys, which can then be reused downstream for integration</p>
<p><strong>Naming Convention:</strong></p>
<p><code>[domain][__env] . [schema] . stg__[source_system](optional__[source_channel])__[source_object](optional__[other_descriptors])__[id]__[transformation_descriptors]</code></p>
<p>Where:</p>
<ul>
<li><code>[domain][__env]</code> - Domain and environment (e.g., <code>corporate__prod</code>, <code>corporate__dev</code>)</li>
<li><code>[schema]</code> - EDW schema (<code>edw_stg</code> for staging, <code>edw_ref</code> for reference staging)</li>
<li><code>stg__</code> - Staging object prefix</li>
<li><code>[source_system]</code> - Source system identifier (e.g., <code>sap</code>, <code>workday</code>, <code>finance_system</code>)</li>
<li><code>(optional__[source_channel])</code> - Optional source channel (e.g., <code>__adf</code>, <code>__api</code>)</li>
<li><code>[source_object]</code> - Source object/table name</li>
<li><code>(optional__[other_descriptors])</code> - Optional additional descriptors</li>
<li><code>[id]</code> - Unique identifier suffix</li>
<li><code>[transformation_descriptors]</code> - Numbered transformation step(s)</li>
</ul>
<p><strong>Standard Transformation Steps (optional, applied as needed):</strong></p>
<ul>
<li><code>00_keyed</code> - Key assignment/generation</li>
<li><code>01_renamed_and_typed</code> - Column renaming and type casting</li>
<li><code>02_deduped</code> - Deduplication</li>
<li><code>03_cleaned</code> - Data cleaning</li>
<li><code>04_filtered</code> or <code>04_split</code> - Filtering or splitting data</li>
<li><code>05_column_selected</code> - Column selection</li>
<li><code>06_business_validated</code> - Business rule validation</li>
<li><code>07_desensitised</code> - Sensitive data masking/removal</li>
</ul>
<p><strong>Reference Data Staging:</strong></p>
<p>Reference data follows the same two-stage approach as marts when coming from multiple sources.</p>
<p>Use <strong>Entity-Centric Staging</strong> when:
- Multiple source systems provide the <em>same</em> business entity/code set, and you need a single conformed view
- You need cross-source mapping, hierarchy standardisation, or conflict resolution (e.g., code collisions, different naming, different rollups)</p>
<p><strong>Source-Centric Staging</strong> (with transformations in <code>edw_stg</code> schema):</p>
<p>Cleans individual source system reference data:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__sap__facilities__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__sap__facilities__02_cleaned</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__finance_system__adf__account_codes__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__workday__locations__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__workday__locations__02_deduped</code></em></li>
</ul>
<p><strong>Entity-Centric Staging</strong> (when unifying across sources in <code>edw_stg</code> schema):</p>
<p>Integrates reference data from multiple sources:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__facility__01_unified</code></em> (combines SAP and Workday facilities)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__facility__02_mapped</code></em> (standardizes codes/hierarchies)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__account_code__01_unified</code></em> (combines old/new finance systems)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__location__01_unified</code></em> (integrates location references)</li>
</ul>
<p><strong>Final Reference Data</strong> (cleaned and conformed in <code>edw_ref</code> schema):</p>
<p>Reference data in <code>edw_ref</code> is materialized as <strong>curated, conformed, reusable reference entities and code sets</strong>.</p>
<p>Typically, <code>edw_ref</code> models:
- Are keyed by <strong>natural/business keys</strong> (and may also include stable internal IDs where useful)
- Are <strong>lightweight and broadly reusable</strong> (avoid mart-specific denormalisation and calculations)
- Are often <strong>current-state</strong>, but may include <strong>effective dating</strong> / limited historisation where the reference itself changes over time (e.g., organisational hierarchies)</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw_ref.ref_facility</code></em> (facility_id, facility_name, facility_code, location_key - simple key-value)</li>
<li><em>e.g: <code>corporate__prod.edw_ref.ref_location</code></em> (location_id, location_name, country_code - basic attributes)</li>
<li><em>e.g: <code>corporate__prod.edw_ref.ref_account_code</code></em> (account_code, account_name, hierarchy_level - minimal structure)</li>
<li><em>e.g: <code>corporate__prod.edw_ref.ref_country_codes</code></em> (country_code, country_name - simple lookup)</li>
</ul>
<p><strong>Note on Reference Data vs Dimensions:</strong></p>
<p>Reference data in <code>edw_ref</code> serves as a foundation and can be <strong>shaped into dimensions</strong> in the <code>edw</code> (marts) schema:</p>
<ul>
<li><strong><code>edw_ref.ref_*</code></strong> - Conformed reference entities/code sets intended for broad reuse (generally natural/business keys, minimal mart-specific logic)</li>
<li><strong><code>edw.dim_*</code></strong> - Analytics-facing dimensional models that may add:</li>
<li>Surrogate keys (and persisted natural/business keys as attributes)</li>
<li>SCD Type 1 and/or Type 2 behaviour <strong>as required</strong> (e.g., <code>valid_from</code>, <code>valid_to</code>, <code>is_current</code>)</li>
<li>Denormalisation, role-playing dimensions, and mart-specific hierarchies/business rules</li>
</ul>
<p>Examples of the relationship:</p>
<ul>
<li><code>edw_ref.ref_facility</code> (conformed reference) → <code>edw.dim_facility</code> (often Type 1 if facility attributes are treated as current-state)</li>
<li><code>edw_ref.ref_account_code</code> (conformed codes/hierarchy) → <code>edw.dim_account</code> (often Type 2 if names/rollups change over time)</li>
<li><code>edw_ref.ref_product_category</code> (conformed categories) → <code>edw.dim_product</code> (often Type 2 if classifications change over time)</li>
</ul>
<p><strong>Base Mart (EDW) Staging:</strong></p>
<p>EDW staging can follow two complementary patterns:</p>
<ol>
<li><strong>Source-Centric Staging</strong>: Cleans and transforms data from individual sources</li>
<li><strong>Entity-Centric Staging</strong>: Integrates and unifies data across multiple sources for a business entity</li>
</ol>
<p><strong>Source-Centric Staging</strong> (with transformations in <code>edw_stg</code> schema):</p>
<p>Focused on cleaning individual source systems:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__sap__employees__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__workday__employees__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__workday__employees__02_cleaned</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__crm__adf__customers__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__crm__adf__customers__02_cleaned</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__new_finance_system__adf__payments__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__old_finance_system__adf__payments__01_renamed_and_typed</code></em></li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__finance_system__api__accounts__01_renamed_and_typed</code></em></li>
</ul>
<p><strong>Entity-Centric Staging</strong> (with transformations in <code>edw_stg</code> schema):</p>
<p>Focused on integrating and unifying data across sources for a specific business entity. These models:
- Union, join, or merge data from multiple source-centric staging models
- Apply cross-source deduplication and conflict resolution
- Establish entity-level keys and relationships
- Prepare unified entity views for final base marts</p>
<p><strong>Naming Convention for Entity-Centric Staging:</strong></p>
<p><code>[domain][__env] . [schema] . stg__[entity]__[transformation_descriptors]</code></p>
<p>Examples:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__employee__01_unified</code></em> (unions SAP and Workday employees)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__employee__02_deduped</code></em> (resolves duplicates across sources)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__employee__03_keyed</code></em> (applies unified business keys)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__customer__01_unified</code></em> (merges multiple CRM sources)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__customer__02_conflict_resolved</code></em> (resolves conflicting attributes)</li>
<li><em>e.g: <code>corporate__prod.edw_stg.stg__payment__01_unified</code></em> (combines old and new finance systems)</li>
<li><em>e.g: <code>health__prod.edw_stg.stg__patient__01_unified</code></em> (integrates patient data across clinical systems)</li>
</ul>
<p>These entity-centric staging models then feed into the final base marts (dimensions and facts).</p>
<p><strong>Base Mart Keysets:</strong></p>
<p>Keysets are created in the <code>edw</code> schema to resolve and map system keys to universal surrogate keys or business keys. These can be reused downstream for integration and conforming/deduplicating entities across multiple sources:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw.keys__employee</code></em> (conforms sap and workday employee keys)</li>
<li><em>e.g: <code>corporate__prod.edw.keys__customer</code></em> (conforms multiple crm source keys)</li>
<li><em>e.g: <code>corporate__prod.edw.keys__account</code></em> (conforms finance system keys)</li>
<li><em>e.g: <code>health__prod.edw.keys__patient</code></em> (conforms clinical system keys)</li>
</ul>
<p><strong>Base Marts (Final Dimensional Models):</strong></p>
<p>Base marts represent full-featured dimensional models with SCD logic, business rules, and complete attributes. These may be built from entity-centric staging, source-centric staging, or by shaping reference data from <code>edw_ref</code>.</p>
<p>Source-specific dimensions (preserving source identity):</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw.dim_employee__sap</code></em></li>
<li><em>e.g: <code>corporate__prod.edw.dim_employee__workday</code></em></li>
<li><em>e.g: <code>corporate__prod.edw.dim_account__old_finance_system</code></em></li>
<li><em>e.g: <code>corporate__prod.edw.dim_account__new_finance_system</code></em></li>
</ul>
<p>Conformed dimensions (unified, non-source specific):</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw.dim_employee</code></em> (Type 1 SCD - current state only)</li>
<li><em>e.g: <code>corporate__prod.edw.dim_employee__type2</code></em> (Type 2 SCD - with historical tracking)</li>
<li><em>e.g: <code>corporate__prod.edw.dim_customer</code></em></li>
<li><em>e.g: <code>corporate__prod.edw.dim_account</code></em> (unified across finance systems)</li>
</ul>
<p>Dimensions built from reference data (shaped with SCD logic):</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw.dim_facility</code></em> (built from <code>edw_ref.ref_facility</code>, adds Type 1 or Type 2 SCD logic)</li>
<li><em>e.g: <code>corporate__prod.edw.dim_product_category</code></em> (built from <code>edw_ref.ref_product_category</code>, with hierarchies)</li>
<li><em>e.g: <code>corporate__prod.edw.dim_location</code></em> (built from <code>edw_ref.ref_location</code>, with geographic hierarchies)</li>
</ul>
<p>Fact tables:</p>
<ul>
<li><em>e.g: <code>corporate__prod.edw.fact_payment</code></em></li>
<li><em>e.g: <code>corporate__prod.edw.fact_transaction</code></em></li>
<li><em>e.g: <code>health__prod.edw.fact_encounter</code></em></li>
</ul>
<p><strong>Common Transformation Suffixes:</strong></p>
<ul>
<li><code>__01_renamed</code> or <code>__01_typed</code></li>
<li><code>__02_cleaned</code></li>
<li><code>__03_deduped</code></li>
<li><code>__04_filtered</code></li>
<li><code>__05_split</code></li>
<li><code>__06_validated</code></li>
<li><code>__07_desensitised</code></li>
</ul>
<p><strong>Additional Notes:</strong></p>
<p>For further context on reference data modeling, refer to <a href="../modelling_standards_and_conventions/#reference-data">Reference Data Standards and Conventions</a>.</p>
<p><br></p>
<p><strong>Raw Vault</strong>:
Optional warehousing construct.</p>
<ul>
<li>Schema naming convention: <code>edw_rv</code></li>
<li>Object naming convention: <code>{vault object named as per data vault standards}</code></li>
<li><em>e.g: corporate__dev.edw_rv.hs_payments__finance_system__adf</em></li>
</ul>
<p><br></p>
<p><strong>Business Vault</strong>:
Optional warehousing construct.</p>
<ul>
<li>Schema naming convention: <code>edw_bv</code></li>
<li>Object naming convention: <code>{vault object named as per data vault standards}</code></li>
<li><em>e.g: corporate__dev.edw_bv.hs_late_payments__finance_system__adf</em></li>
</ul>
<p><br></p>
<h4 id="infomart-aka-gold-data-according-to-requirements">Infomart (aka Gold) (Data according to requirements)</h4>
<p>The Infomart zone focuses on requirement-aligned products (datasets, aggregations, and reporting structures). Products are predominantly source agnostic, however optionality exists when source-specific views are needed.</p>
<p>Refer to <a href="../level_2/#data-zones-and-layers">Data zones and layers</a> for further context and definitions applicable to this section.</p>
<p>The Infomart zone uses two primary schemas:
- <strong><code>im_stg</code></strong> - Product mart staging (intermediate transformations)
- <strong><code>im</code></strong> - Information marts (final business-aligned products)</p>
<p><strong>Naming Convention:</strong></p>
<p><code>[domain][__env] . [schema] . [object_type][product_name/descriptor](__source)(__transformation)</code></p>
<p>Where:</p>
<ul>
<li><code>[domain][__env]</code> - Domain and environment (e.g., <code>corporate__prod</code>, <code>health__dev</code>)</li>
<li><code>[schema]</code> - Infomart zone schema (<code>im_stg</code> for staging, <code>im</code> for final products)</li>
<li><code>[object_type]</code> - Object type prefix (e.g., <code>stg_</code>, <code>fact_</code>, <code>dim_</code>, <code>obt_</code>)</li>
<li><code>[product_name/descriptor]</code> - Product or business-aligned name</li>
<li><code>(__source)</code> - Optional source system identifier (only when source-specific view is needed)</li>
<li><code>(__transformation)</code> - Optional transformation step (for staging only)</li>
</ul>
<p><strong>Naming Guidelines:</strong></p>
<ul>
<li>All <code>entity</code> names which align to facts should be named in plural</li>
<li>All <code>entity</code> names which align to dimensions should be named in singular</li>
<li>Product marts are business/requirement-aligned, not technical constructs</li>
</ul>
<p><br></p>
<p><strong>Infomart Staging Models</strong>:</p>
<p>Staging models serve as intermediary models that transform base marts (EDW) into requirement-aligned product marts. According to dbt best practices, there is a distinction between Staging and Intermediate models. Under this blueprint the use of Intermediate models is optional. <a href="https://docs.getdbt.com/best-practices/how-we-structure/1-guide-overview">Reference</a></p>
<p>These models exist in the <code>im_stg</code> schema to stage information marts with business-specific transformations:</p>
<p><strong>Common Transformations:</strong></p>
<ul>
<li>Pivoting</li>
<li>Aggregation</li>
<li>Joining across multiple base marts</li>
<li>Business rule application</li>
<li>Desensitization</li>
<li>Complex calculations</li>
</ul>
<p><strong>Examples:</strong></p>
<ul>
<li><em>e.g: <code>corporate__prod.im_stg.stg_downtime_by_region__01_pivoted</code></em></li>
<li><em>e.g: <code>corporate__prod.im_stg.stg_downtime_by_region__02_desensitised</code></em></li>
<li><em>e.g: <code>corporate__prod.im_stg.stg_late_payments__01_aggregated</code></em></li>
<li><em>e.g: <code>corporate__prod.im_stg.stg_late_payments__02_joined</code></em></li>
<li><em>e.g: <code>corporate__prod.im_stg.stg_fte_calculations__01_pivoted</code></em></li>
<li><em>e.g: <code>corporate__prod.im_stg.stg_fte_calculations__02_aggregated</code></em></li>
<li><em>e.g: <code>health__prod.im_stg.stg_patient_outcomes__01_joined</code></em></li>
<li><em>e.g: <code>health__prod.im_stg.stg_patient_outcomes__02_desensitised</code></em></li>
</ul>
<p><br></p>
<p><strong>Information Marts (Final Products)</strong>:</p>
<p>Final business-aligned data products ready for consumption by analytics, reporting, and BI tools in the <code>im</code> schema.</p>
<p><strong>Examples:</strong></p>
<p>Fact tables (aggregated/business-focused):</p>
<ul>
<li><em>e.g: <code>corporate__prod.im.fact_downtime_by_region</code></em></li>
<li><em>e.g: <code>corporate__prod.im.fact_late_payments</code></em></li>
<li><em>e.g: <code>corporate__prod.im.fact_regional_account_payments</code></em></li>
<li><em>e.g: <code>health__prod.im.fact_patient_outcomes</code></em></li>
</ul>
<p>Dimension tables (product-specific):</p>
<ul>
<li><em>e.g: <code>corporate__prod.im.dim_region</code></em></li>
<li><em>e.g: <code>corporate__prod.im.dim_payment_category</code></em></li>
</ul>
<p>One Big Tables (OBT) - Denormalized aggregates:</p>
<ul>
<li><em>e.g: <code>corporate__prod.im.obt_fte_calculations</code></em></li>
<li><em>e.g: <code>corporate__prod.im.obt_financial_summary</code></em></li>
<li><em>e.g: <code>corporate__prod.im.obt_executive_dashboard</code></em></li>
</ul>
<p>Source-specific products (when needed):</p>
<ul>
<li><em>e.g: <code>corporate__prod.im.fact_account_payments__old_finance_system</code></em></li>
<li><em>e.g: <code>corporate__prod.im.fact_account_payments__new_finance_system</code></em></li>
<li><em>e.g: <code>corporate__prod.im.obt_employee_metrics__sap</code></em></li>
<li><em>e.g: <code>corporate__prod.im.obt_employee_metrics__workday</code></em></li>
</ul>
<h3 id="delta-sharing">Delta Sharing</h3>
<ul>
<li>Share names: {domain_name}<strong>{optional:subdomain_name}</strong>{optional:purpose}<strong>{schema_name or description}</strong>{object_name or description}__{share_purpose and or target_audience} <em>e.g: intuitas_corporate__finance__reporting__account_payments__payments</em></li>
</ul>
<p><br></p>
<h2 id="azure-data-factory">Azure Data Factory</h2>
<ul>
<li>Linked service names: ls_{database_name}(if not in database_name:{<em>organisation_name}</em>{domain_name}) <em>e.g: ls_financedb_intuitas_corporate</em></li>
<li>Dataset names: ds_{database_name}_{object_name}</li>
<li>Pipeline names: pl_{description: e.g copy_{source_name}<em>to</em>{destination_name}}</li>
<li>Trigger names: tr_{pipeline_name}_{optional:start_time / frequency}</li>
</ul>
<p><br>  </p>
<h2 id="streaming">Streaming</h2>
<ul>
<li>Cluster name: <code>{domain_name}__cluster__{optional:environment}</code></li>
<li>Topic names: <code>{domain_name}__{object/entity?}__{optional:source_system}___{optional:source_channel}__{optional:environment}</code></li>
<li>Consumer group names: <code>{domain_name}__{unique_group_name}__{optional:environment}</code></li>
</ul>
<p><br>  </p>
<h2 id="dbt">dbt</h2>
<p>The following standards and conventions relate to dbt projects.</p>
<h3 id="documentation-and-model-metadata">Documentation and model metadata</h3>
<p>Within each respective model folder (as needed)</p>
<ul>
<li>md: _{path to model folder using _ separators}__docs.md</li>
<li>
<p><em>e.g: models/edw/ambo_sim__kafka__local/_edw__ambo_sim__kafka__local__docs.md</em></p>
</li>
<li>
<p>model yml: _{path to model folder using _ separators}__models.yml</p>
</li>
<li><em>e.g: models/edw/ambo_sim__kafka__local/_edw__ambo_sim__kafka__local__models.yml</em></li>
</ul>
<h3 id="sources">Sources</h3>
<ul>
<li>Folder: models/sources/{raw/edw/infomart}</li>
<li>yml: {schema}__sources.yml (one for each source schema) </li>
<li><em>e.g: ods__ambo_sim__kafka__sources.yml</em></li>
</ul>
<h3 id="model-and-folder-names">Model and Folder Names</h3>
<p>dbt model names are verbose (inclusive of schema and domain) to ensure global uniqueness and better traceability to folders. Actual object names should be aliased to match object naming standards.</p>
<h4 id="raw">Raw</h4>
<p><em>Raw zone contains operational data store (ODS) for current state and persistent data store (PDS) for historical tracking</em></p>
<p><strong>ODS (Operational Data Store) - Current State:</strong>
- Folder: <code>seeds/{optional: domain name}{optional: __subdomain name(s)}/</code>  → materializes to <code>[domain__env].ods</code>
- Folder: <code>sources/raw/{optional: domain name}{optional: __subdomain name(s)}/</code>  → references external sources to <code>[domain__env].ods</code></p>
<p><strong>Seed Naming Convention:</strong></p>
<p>Seeds (CSV files) should follow a descriptive naming pattern and materialize to the ODS schema:
- <code>ref_[entity]_[descriptor].csv</code> for reference/lookup data
- <code>config_[descriptor].csv</code> for configuration data
- <em>e.g: <code>ref_country_codes.csv</code></em> → <code>corporate__dev.ods.ref_country_codes</code>
- <em>e.g: <code>ref_currency_rates.csv</code></em> → <code>corporate__dev.ods.ref_currency_rates</code>
- <em>e.g: <code>config_holidays.csv</code></em> → <code>corporate__dev.ods.config_holidays</code></p>
<p><strong>PDS (Persistent Data Store) - Historical Tracking:</strong>
- Folder: <code>models/raw/{optional: domain name}{optional: __subdomain name(s)}/pds/</code>  → materializes to <code>[domain__env].pds</code>
- Models in PDS capture type 2 SCD (slowly changing dimensions) or snapshots of ODS data</p>
<p><strong>Type 2 Snapshot Model Examples:</strong>
- <em>e.g: <code>models/raw/pds/ref_country_codes_snapshot.sql</code></em> → <code>corporate__dev.pds.ref_country_codes_snapshot</code>
- <em>e.g: <code>models/raw/pds/ref_currency_rates_snapshot.sql</code></em> → <code>corporate__dev.pds.ref_currency_rates_snapshot</code>
- <em>e.g: <code>models/raw/pds/config_holidays_snapshot.sql</code></em> → <code>corporate__dev.pds.config_holidays_snapshot</code></p>
<p>These models typically reference their corresponding seeds from ODS and add historical tracking columns (valid_from, valid_to, is_current, etc.)</p>
<h4 id="edw">EDW</h4>
<p>EDW staging follows two complementary patterns:</p>
<ol>
<li><strong>Source-Centric Staging</strong>: Organized by source system, cleaning individual sources</li>
<li><strong>Entity-Centric Staging</strong>: Organized by business entity, integrating across sources</li>
</ol>
<p><strong>Staging Source-Centric:</strong> </p>
<p>Focused on cleaning and transforming data from individual source systems:</p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/source/{source_system}{optional:__{source_channel}}/stg/</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__edw__} stg__{source_system} __{source_channel} __{source_object} __{ordinal}_{transformation description}</code></li>
</ul>
<pre><code class="language-md">   *e.g:*

      - *edw\source\new_finance_system__adf\stg\corporate__edw__stg__new_finance_system__adf__accounts__01_renamed_and_typed.sql*
      - or *edw\source\new_finance_system__adf\stg\stg__new_finance_system__adf__accounts__01_renamed_and_typed.sql*
      - materialises to: *corporate__dev.edw_stg.stg__new_finance_system__adf__accounts__01_renamed_and_typed*
</code></pre>
<p><strong>Staging Entity-Centric:</strong></p>
<p>Focused on integrating and unifying data across multiple sources for a specific business entity:</p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity}/stg/</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__edw__} stg__{entity} __{ordinal}_{transformation description}</code></li>
</ul>
<p>These models:
- Union, join, or merge data from multiple source-centric staging models
- Apply cross-source deduplication and conflict resolution
- Establish unified entity keys</p>
<pre><code class="language-md">   *e.g:*

      - *edw\mart\employee\stg\stg__employee__01_unified.sql* (unions SAP and Workday)
      - *edw\mart\employee\stg\stg__employee__02_deduped.sql* (resolves duplicates)
      - *edw\mart\employee\stg\stg__employee__03_keyed.sql* (applies unified keys)
      - materialises to: *corporate__dev.edw_stg.stg__employee__01_unified*
</code></pre>
<p><strong>Mart (Entity-Centric Base Marts):</strong> </p>
<p>Base marts are organized by business entity. Entity-centric staging (if needed) lives in a nested <code>stg/</code> folder within each entity folder.</p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity}/</code></li>
<li>Entity-centric staging subfolder: <code>models/edw/.../mart/{entity}/stg/</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__edw__} {dim_/fact_}{__entity /_object_description}{optional:__{source_system}__{source_channel}}</code></li>
</ul>
<p><strong>Source-specific marts</strong> (when preserving source identity):</p>
<ul>
<li>Models: <code>{optional:__edw__} dim_{entity}__{source_system}</code></li>
<li><em>e.g: dim_employee__sap.sql, dim_employee__workday.sql</em></li>
</ul>
<p><strong>Non-source specific (unified) marts</strong>:</p>
<ul>
<li>Models: <code>{optional:__edw__} dim_{entity}</code> or <code>fact_{entity_plural}</code></li>
<li><em>e.g: dim_employee.sql, fact_payments.sql</em></li>
</ul>
<p><strong>Reference Data:</strong> </p>
<p>Reference data follows the same pattern as marts - organized by reference entity with optional entity-centric staging.</p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/ref/{reference_entity}/</code></li>
<li>Entity-centric staging subfolder: <code>models/edw/.../ref/{reference_entity}/stg/</code> (when unifying multiple sources)</li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__edw__} ref_{__reference data set name} {optional:__{source_system}__{source_channel}}</code></li>
</ul>
<p>Examples:
   - <em>e.g: <code>models/edw/ref/facility/ref_facility.sql</code></em> → <code>corporate__dev.edw_ref.ref_facility</code>
   - <em>e.g: <code>models/edw/ref/facility/stg/stg__facility__01_unified.sql</code></em> → <code>corporate__dev.edw_stg.stg__facility__01_unified</code> (combines SAP + Workday)
   - <em>e.g: <code>models/edw/ref/account_code/ref_account_code.sql</code></em> → <code>corporate__dev.edw_ref.ref_account_code</code></p>
<p><strong>Raw Vault:</strong> </p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/edw/rv</code></li>
<li>Models: <code>edw_rv__{vault object named as per data vault standards}</code></li>
</ul>
<p><strong>Business Vault:</strong> </p>
<ul>
<li>Folder: <code>models/edw/{optional: domain name}{optional: __subdomain name(s)}/edw/bv</code></li>
<li>Models: <code>edw_bv__{vault object named as per data vault standards}</code></li>
</ul>
<h4 id="infomart">Infomart</h4>
<p><strong>Staging:</strong></p>
<ul>
<li>Folder: <code>models/infomart/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}/stg</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__im__} stg{__entity / product description} __{ordinal}_{transformation description} {optional: __{source_system} __{source_channel}}</code></li>
</ul>
<p><strong>Dimensions:</strong> </p>
<ul>
<li>Folder: <code>models/infomart/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__im__} dim_{__entity / product description} (optional: __{source_system} __{source_channel})</code></li>
</ul>
<p><strong>Facts:</strong> </p>
<ul>
<li>Folder: <code>models/infomart/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__im__} fact_{__entity / product description} (optional: __{source_system} __{source_channel})</code></li>
</ul>
<p><strong>Denormalized (One Big Table):</strong> </p>
<ul>
<li>Folder: <code>models/infomart/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__im__} obt_{__entity / product description} {optional: __{source_system} __{source_channel}}</code></li>
</ul>
<h4 id="example-dbt-model-structure">Example dbt model structure:</h4>
<p>The model structure below reflects a single catalog for domain+environment and schema separation for zones and layers:</p>
<pre><code class="language-md">{{domain/enterprise} _project_name}
├── README.md
├── analyses
├── seeds  &lt;ods&gt;
│   └── ref_country_codes.csv  &lt;e.g: corporate__dev.ods.ref_country_codes&gt;
│   └── config_holidays.csv  &lt;e.g: corporate__dev.ods.config_holidays&gt;
├── dbt_project.yml
├── macros
│   └── custom_macro.sql
│   ├── utilities
│       └── all_dates.sql
├── models/raw
│   /{optional: domain and subdomains}
│   ├── _raw.md
│   ├── ods  &lt;ods&gt;
│   |   └── (typically empty - ODS populated by seeds/sources)
│   └── pds  &lt;pds&gt;
│       └── ref_country_codes_snapshot.sql  &lt;e.g: corporate__dev.pds.ref_country_codes_snapshot&gt;
│       └── config_holidays_snapshot.sql  &lt;e.g: corporate__dev.pds.config_holidays_snapshot&gt;
├── models/edw/
│   ├── _edw.md
│   ├── source  (source-centric staging - organized by source system) &lt;edw_stg&gt;
│   |   /{optional: domain and subdomains}
│   |   ├── source_system_1
│   |   |   ├── _source_system_1__docs.md
│   |   |   ├── _source_system_1__models.yml
│   |   |   └── stg
│   |   |       ├── stg__source_system_1__object__01_renamed_and_typed.sql  &lt;e.g: corporate__dev.edw_stg.stg__source_system_1__object__01_renamed_and_typed&gt;
│   |   |       └── stg__source_system_1__object__02_cleaned.sql  &lt;e.g: corporate__dev.edw_stg.stg__source_system_1__object__02_cleaned&gt;
│   |   └── source_system_2__adf
│   |       ├── _source_system_2__adf__docs.md
│   |       ├── _source_system_2__adf__models.yml
│   |       └── stg
│   |           ├── stg__source_system_2__adf__accounts__01_renamed_and_typed.sql  &lt;e.g: corporate__dev.edw_stg.stg__source_system_2__adf__accounts__01_renamed_and_typed&gt;
│   |           └── stg__source_system_2__adf__accounts__02_cleaned.sql  &lt;e.g: corporate__dev.edw_stg.stg__source_system_2__adf__accounts__02_cleaned&gt;
│   ├── mart  (entity centric base marts and entity-centric staging) &lt;edw&gt; and &lt;edw_stg&gt;
│   |   /{optional: domain and subdomains}
│   |   └── employee
│   |       ├── _employee__docs.md
│   |       ├── _employee__models.yml
│   |       ├── dim_employee.sql  &lt;e.g: corporate__dev.edw.dim_employee (built from stg__employee__03_keyed)&gt;
│   |       └── stg  (entity-centric staging) &lt;edw_stg&gt;
│   |           ├── stg__employee__01_unified.sql  &lt;e.g: corporate__dev.edw_stg.stg__employee__01_unified (unions source_system_1 &amp; source_system_2)&gt;
│   |           ├── stg__employee__02_deduped.sql  &lt;e.g: corporate__dev.edw_stg.stg__employee__02_deduped&gt;
│   |           └── stg__employee__03_keyed.sql  &lt;e.g: corporate__dev.edw_stg.stg__employee__03_keyed&gt;
│   |   └── account
│   |       └── dim_account.sql  &lt;e.g: corporate__dev.edw.dim_account&gt;
│   |   └── date
│   |       └── dim_date.sql  &lt;e.g: corporate__dev.edw.dim_date&gt;
│   ├── ref  (reference data with optional entity-centric staging) &lt;edw_ref&gt; and &lt;edw_stg&gt;
│   |   ├── _reference_data__docs.md
│   |   ├── facility
│   |   |   ├── _facility__models.yml
│   |   |   ├── ref_facility.sql  &lt;e.g: corporate__dev.edw_ref.ref_facility&gt;
│   |   |   └── stg  (entity-centric staging when unifying multiple sources) &lt;edw_stg&gt;
│   |   |       ├── stg__facility__01_unified.sql  &lt;e.g: corporate__dev.edw_stg.stg__facility__01_unified&gt;
│   |   |       └── stg__facility__02_mapped.sql  &lt;e.g: corporate__dev.edw_stg.stg__facility__02_mapped&gt;
│   |   └── country_code
│   |       ├── _country_code__models.yml
│   |       └── ref_country_code.sql  &lt;e.g: corporate__dev.edw_ref.ref_country_code (single source, no staging)&gt;
│   └── sources
│        └── {optional: domain}
│        └── {optional: raw/edw/infomart}
│             └── _source_system_1__sources.yml 
├── models/infomart  &lt;im&gt;
│   /{optional: domain and subdomains}
│   ├── _infomart.md
│   └── domain_name e.g: finance 
│       └── mart
│           ├── _finance__models.yml
│           ├── orders.sql  &lt;e.g: corporate__dev.im.orders&gt;
│           └── payments.sql  &lt;e.g: corporate__dev.im.payments&gt;
│               └── stg  &lt;im_stg&gt;
│                   └── stg_payments_pivoted_to_orders.sql  &lt;e.g: corporate__dev.im_stg.stg_payments_pivoted_to_orders&gt;
├── packages.yml
├── snapshots
└── tests
    └── assert_positive_value_for_total_amount.sql
</code></pre>
<h3 id="dbt_projectyml">dbt_project.yml</h3>
<p>The yml structure below reflects a single catalog for domain+environment and schema separation for zones and layers:</p>
<pre><code class="language-yml">models:
  health_lakehouse__engineering__dbt:
    +persist_docs: #enables injection of metadata into unity catalog
        relation: true
        columns: true

    raw:
      ods:
        +description: &quot;Operational data store - current state&quot;
        +schema: ods
        +materialized: table
      pds:
        +description: &quot;Persistent data store - historical snapshots (Type 2 SCD)&quot;
        +schema: pds
        +materialized: table

    edw:
      ref:
        +description: &quot;Reference data (conformed lookups, master data)&quot;
        +schema: edw_ref
        +materialized: table
        stg:
          +description: &quot;Entity-centric reference staging (when unifying multiple sources)&quot;
          +schema: edw_stg
          +materialized: view
      source:
        +description: &quot;Source-centric staging organized by source system&quot;
        +schema: edw_stg
        +materialized: view
      mart:
        +description: &quot;Entity-centric base marts (dimensions, facts)&quot;
        +schema: edw
        +materialized: table
        stg:
          +description: &quot;Entity-centric staging (integrates across sources)&quot;
          +schema: edw_stg
          +materialized: view

    infomart:
      +materialized: view # default for speed
      mart:
        +description: &quot;Information marts (business-aligned products)&quot;
        +schema: im
        +materialized: table
        stg:
          +description: &quot;Information mart staging (intermediate transformations)&quot;
          +schema: im_stg
          +materialized: view

seeds:
  health_lakehouse__engineering__dbt:
    +schema: ods
    +description: &quot;Static reference and configuration data loaded from CSV files to ODS&quot;
</code></pre>
<p><br></p>
<h2 id="cicd">CI/CD</h2>
<p>The following standards and conventions relate to Continuous Improvement and Continuous Delivery constructs.</p>
<h3 id="repository-naming">Repository naming</h3>
<ul>
<li>All lowercase with hyphens as separators</li>
<li>Format: <code>{org}-{domain}-{purpose}-{optional:descriptor}</code></li>
</ul>
<p>Examples:
   - intuitas-corporate-dbt
   - intuitas-corporate-ingestion-framework<br />
   - intuitas-corporate-cicd-templates
   - intuitas-corporate-infrastructure</p>
<h3 id="branch-naming">Branch naming</h3>
<ul>
<li>All lowercase with hyphens as separators</li>
<li>Naming convention: <code>{type}-{optional:ticket-id}-{description}</code></li>
</ul>
<p>Types:
   - feature: New functionality
   - bugfix: Bug fixes
   - hotfix: Critical fixes for production
   - release: Release branches
   - docs: Documentation updates only
   - refactor: Code improvements with no functional changes
   - test: Test-related changes</p>
<p>Examples:
   - feature-eng123-add-new-data-source
   - bugfix-eng456-fix-null-values
   - hotfix-prod-outage-fix
   - release-v2.1.0
   - docs-update-readme
   - refactor-optimize-transforms
   - test-add-integration-tests</p>
<h3 id="branch-lifecycle">Branch lifecycle</h3>
<h4 id="simple-branch-lifecycle">Simple branch lifecycle:</h4>
<ul>
<li>main/master: Primary branch</li>
<li>branch: Short-lived branches development branch, merged or rebased to main/master</li>
</ul>
<h4 id="comprehensive-team-branch-lifecycle">Comprehensive team branch lifecycle:</h4>
<ol>
<li>Main/master: Primary branch</li>
<li>Development: Active development branch</li>
<li>Feature/bugfix: Short-lived branches merged to development</li>
<li>Release: Created from development, merged to main/master</li>
<li>Hotfix: Created from main/master for urgent fixes</li>
</ol>
<h3 id="databricks-asset-bundles">Databricks Asset Bundles</h3>
<p>Databricks asset bundles are encouraged for all Databricks projects.</p>
<ul>
<li>project/bundle name: </li>
<li><code>{domain_name}__databricks</code> (for general databricks projects)</li>
<li>
<p><code>{domain_name}__dbt</code> (for dbt databricks bundles)</p>
</li>
<li>
<p>Bundle tags:</p>
</li>
<li>Key: <code>environment: {environment}</code></li>
<li>Key: <code>manager: {team_name}</code> and or <code>{email_address}</code></li>
<li>Key: <code>managing_domain:</code>{domain_name}` e.g: if delegating to engineering domain</li>
<li>Key: <code>owner: {owner_name}</code></li>
<li>Key: <code>owning_domain: {domain_name}</code></li>
<li>Key: <code>dab: {bundle_name}</code></li>
<li>Key: <code>project: {project_name}</code></li>
</ul>
<p>e.g:
   <code>yml
   tags:
      environment: ${bundle.target}
      project: health-lakehouse
      dab: health_lakehouse__engineering__databricks
      owning_domain: intuitas_engineering
      owner: engineering-admin@intuitas.com
      manager: engineering-engineer@intuitas.com
      managing_domain: intuitas_engineering</code></p>
<ul>
<li>Resources:</li>
<li>Folder level 1: <code>{meaningful sub-project name}</code></li>
<li>
<p>Folder level 2: </p>
<ul>
<li>notebooks</li>
<li>workflows</li>
</ul>
</li>
<li>
<p>Databricks.yml</p>
</li>
<li>For both dev and prod: <code>root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}</code></li>
</ul>
<p>Example databricks.yml</p>
<pre><code class="language-yml"># This is a Databricks asset bundle definition for health_lakehouse__engineering.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: health_lakehouse__engineering__databricks

variables:
  default_cluster_id:
    value: &quot;-----&quot;  


include:
  - resources/*.yml
  - resources/**/*.yml
  - resources/**/**/*.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://------.15.azuredatabricks.net
      root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}
  prod:
    mode: production
    workspace:
      host: https://------.15.azuredatabricks.net
      root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: engineering-engineer@intuitas.com
        level: CAN_MANAGE
    run_as:
      user_name: engineering-engineer@intuitas.com
</code></pre>
<p><br></p>
<h2 id="security">Security</h2>
<p>Security standards and conventioned provided here provide a starter set, however existing organisational and applicable industry standards should take precedence. Consult with your cybersecurity advisor.</p>
<h3 id="entra">Entra</h3>
<blockquote>
<p>Under development. (Contact us to know more).</p>
</blockquote>
<p>Most organisations will already have an established set of groups and conventions. Where there are gaps, the following can still be considered.</p>
<p>Recommended areas to align to organisational governance and cyber requirements:</p>
<ul>
<li>Naming conventions for admin, service, and user groups</li>
<li>Role-based access alignment (least privilege, separation of duties)</li>
<li>Alignment to domains - Cross-domain vs. domain-specific group patterns</li>
</ul>
<p><strong>Entra Group Names</strong>:</p>
<ul>
<li>Pattern:  <code>grp-&lt;org&gt;-&lt;domain&gt;-&lt;plat&gt;-&lt;scope&gt;-&lt;role&gt;-&lt;env&gt;[-&lt;region&gt;][-ext-&lt;partner&gt;][-idx]</code></li>
<li>Lowercase, hyphen-separated; no spaces.</li>
<li>Keep to ≤ 120 chars total.</li>
<li>No PII in names.</li>
<li>Use Security groups (not M365) for RBAC; enable PIM where appropriate e.g. Admins.</li>
</ul>
<p><strong>role</strong>:</p>
<ul>
<li>owner — full control of the named scope</li>
<li>admin — administrative (non-ownership) rights</li>
<li>contrib — create/modify within scope</li>
<li>editor — modify data/artifacts, not permissions</li>
<li>reader — read-only</li>
<li>steward — governance/metadata rights</li>
<li>custodian — key/secret/storage control</li>
<li>operator — run/ops rights (pipelines, jobs)</li>
<li>viewer — read dashboards/reports</li>
</ul>
<p><br></p>
<p><strong>plat:</strong></p>
<ul>
<li>dbx (Databricks), uc (Unity Catalog), pbi (Power BI), adf (Data Factory),</li>
<li>dlk (Data Lake), sql (Azure SQL), kva (Key Vault), syn (Synapse)</li>
</ul>
<p><br></p>
<p><strong>scope</strong> (or object):</p>
<ul>
<li>Databricks Workspace: ws-<WorkspaceName></li>
<li>Unity Catalog: uc-meta (metastore), uc-cat-<Catalog>, uc-sch-<Catalog>.<Schema>, uc-obj-<Catalog>.<Schema>.<Object></li>
<li>Power BI: pbi-ws-<Workspace></li>
<li>Data Lake: dlk-path-/datalake/<area>/<path></li>
</ul>
<p><br></p>
<p><em>Examples</em>:</p>
<ul>
<li><em>GRP-INTUITAS-CLIN-DBX-WS-Analytics-ADMIN-PRD</em></li>
<li><em>GRP-INTUITAS-CLIN-UC-UC-CAT-Claims-OWNER-PRD</em></li>
<li><em>GRP-INTUITAS-CLIN-UC-UC-SCH-Claims.Curated-READER-UAT</em></li>
<li><em>GRP-INTUITAS-FIN-PBI-PBI-WS-ExecDash-VIEWER-PRD</em></li>
<li><em>GRP-INTUITAS-ENT-KVA-KVA-Keys-CUSTODIAN-PRD</em></li>
<li><em>GRP-INTUITAS-CLIN-DLK-DLK-PATH-/curated/claims/READER-PRD-AUE</em></li>
<li><em>GRP-INTUITAS-CLIN-DBX-WS-PartnerLake-READER-PRD-EXT-ACME</em></li>
</ul>
<p><br>
<br></p>
<h3 id="policies">Policies</h3>
<blockquote>
<p>Under development. (Contact us to know more).</p>
</blockquote>
<p>Recommended areas to align to non-functional requirements:</p>
<ul>
<li>Data retention (duration, archival, legal hold)</li>
<li>Key retention and rotation cycles</li>
<li>Backup and recovery standards</li>
<li>Incident response and escalation procedures</li>
<li>Access review and recertification</li>
</ul>
<p><br></p>
<h3 id="frameworks">Frameworks</h3>
<blockquote>
<p>Under development. (Contact us to know more).</p>
</blockquote>
<p>Recommended areas to align to industry and cyber compliance:</p>
<ul>
<li>Engineering standards (e.g., code repositories, CI/CD security, IaC policies)</li>
<li>Security frameworks (e.g., NIST, ISO 27001, CIS Benchmarks, Zero Trust)</li>
<li>Compliance mappings (HIPAA, GDPR, SOC2, local regulatory obligations)</li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
