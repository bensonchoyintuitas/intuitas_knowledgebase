<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Naming Conventions - Intuitas Data Intelligence Blueprint</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <link href="../assets/custom.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">Intuitas Data Intelligence Blueprint</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../about/" class="nav-link">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#naming-conventions" class="nav-link">Naming Conventions</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#table-of-contents" class="nav-link">Table of Contents</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#mesh" class="nav-link">Mesh</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#platform" class="nav-link">Platform</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#databricks" class="nav-link">Databricks</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#azure-data-factory" class="nav-link">Azure Data Factory</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#streaming" class="nav-link">Streaming</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#dbt" class="nav-link">dbt</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#cicd" class="nav-link">CI/CD</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#security" class="nav-link">Security</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="naming-conventions">Naming Conventions</h1>
<p><a href="../">Return to home</a></p>
<p>All naming is in lower case.</p>
<p><br></p>
<h2 id="table-of-contents">Table of Contents</h2>
<hr />
<ul>
<li><a href="./#mesh">Mesh</a><ul>
<li><a href="./#domain-names">Domain Names</a></li>
</ul>
</li>
<li><a href="./#platform">Platform</a><ul>
<li><a href="./#environment">Environment</a></li>
<li><a href="./#vnet">VNET</a></li>
<li><a href="./#resource-groups">Resource Groups</a></li>
<li><a href="./#databricks-workspace">Databricks workspace</a></li>
<li><a href="./#key-vault">Key vault</a></li>
<li><a href="./#secrets">Secrets</a></li>
<li><a href="./#entra-group-names">Entra Group Names</a></li>
<li><a href="./#azure-data-factory-adf">Azure Data Factory (naming_standards_and_conventions.mdADF)</a></li>
<li><a href="./#sql-server">SQL Server</a></li>
<li><a href="./#sql-database">SQL Database</a></li>
<li><a href="./#storage">Storage</a><ul>
<li><a href="./#lakehouse-storage">Lakehouse Storage</a></li>
<li><a href="./#lakehouse-storage-containers">Lakehouse Storage Containers</a></li>
<li><a href="./#lakehouse-storage-folders">Lakehouse Storage Folders</a></li>
<li><a href="./#generic-blob-storage">Generic Blob Storage</a></li>
<li><a href="./#generic-blob-files-and-folders">Generic Blob Files and Folders</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="./#databricks">Databricks</a><ul>
<li><a href="./#workspace-and-cluster-names">Workspace and Cluster Names</a></li>
<li><a href="./#catalog-naming-and-conventions">Catalog</a></li>
<li><a href="./#schema-and-object-conventions">Schema and Object Conventions</a></li>
<li><a href="./#delta-sharing">Delta Sharing</a></li>
</ul>
</li>
<li><a href="./#azure-data-factory">Azure Data Factory</a></li>
<li><a href="./#streaming">Streaming</a></li>
<li><a href="./#dbt">dbt</a><ul>
<li><a href="./#documentation-and-model-metadata">Documentation and Model Metadata</a></li>
<li><a href="./#sources">Sources</a></li>
<li><a href="./#model-and-folder-names">Model and Folder Names</a></li>
<li><a href="./#dbt_projectyml">dbt_project.yml</a></li>
</ul>
</li>
<li><a href="./#cicd">CI/CD</a><ul>
<li><a href="./#repository-naming">Repository Naming</a></li>
<li><a href="./#branch-naming">Branch Naming</a></li>
<li><a href="./#branch-lifecycle">Branch Lifecycle</a></li>
<li><a href="./#databricks-asset-bundles">Databricks Asset Bundles</a></li>
</ul>
</li>
<li><a href="./#security">Security</a><ul>
<li><a href="./#entra-group-names">Entra Group Names</a></li>
<li><a href="./#policies">Policies</a></li>
<li><a href="./#frameworks">Frameworks</a>
<br></li>
</ul>
</li>
</ul>
<h2 id="mesh">Mesh</h2>
<h3 id="domain-names">Domain Names</h3>
<p>All lower case: <code>{optional:organisation_}{functional area/domain}_{subdomain}</code></p>
<p><em>e.g: intuitas_corporate</em></p>
<p><br></p>
<h2 id="platform">Platform</h2>
<h3 id="environment">Environment</h3>
<ul>
<li>Environment name: dev/test/prod/sandbox/poc (pat - production acceptance testing is optional as prepred)</li>
</ul>
<h3 id="vnet">VNET</h3>
<ul>
<li>Name: <code>vn-{organisation_name}-{domain_name}</code>
= <em>e.g: vn-intuitas-corporate</em></li>
</ul>
<h3 id="resource-groups">Resource Groups</h3>
<ul>
<li>Name: <code>rg-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: rg-intuitas-corporate</em></li>
</ul>
<h3 id="databricks-workspace">Databricks workspace</h3>
<ul>
<li>Name: <code>ws-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: ws-intuitas-corporate</em></li>
</ul>
<h3 id="key-vault">Key vault</h3>
<ul>
<li>Name: <code>kv-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: kv-intuitas-corporate</em></li>
</ul>
<h3 id="secrets">Secrets</h3>
<ul>
<li>Name: <code>{secret_name}</code></li>
</ul>
<h3 id="entra-group-names">Entra Group Names</h3>
<ul>
<li>Name: <code>eg-{organisation_name}-{domain_name}</code>
= <em>e.g: eg-intuitas-corporate</em></li>
</ul>
<h3 id="azure-data-factory-adf">Azure Data Factory (ADF)</h3>
<ul>
<li>Name: <code>adf-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: adf-intuitas-corporate</em></li>
</ul>
<h3 id="sql-server">SQL Server</h3>
<ul>
<li>Name: <code>sql-{organisation_name}-{domain_name}</code></li>
<li><em>e.g: sql-intuitas-corporate</em></li>
</ul>
<h3 id="sql-database">SQL Database</h3>
<ul>
<li>Name: <code>sqldb-{purpose}-{organisation_name}-{domain_name}-{optional:environment}</code></li>
<li><em>e.g: sqldb-metadata-intuitas-corporate</em></li>
</ul>
<h3 id="storage">Storage</h3>
<p>The section describes naming standards and conventions for cloud storage resources.</p>
<h4 id="lakehouse-storage">Lakehouse storage</h4>
<ul>
<li>Lakehouse storage account name: <code>dl{organisation_name}{domain_name}</code></li>
</ul>
<h4 id="lakehouse-storage-containers">Lakehouse storage containers</h4>
<ul>
<li>Name: <code>{environment} (dev/test/preprod/prod)</code></li>
</ul>
<h5 id="lakehouse-storage-folders">Lakehouse storage folders</h5>
<ul>
<li>Level 1 Name: <code>{layer} (bronze/silver/gold)</code> // if using medallion approach</li>
<li>Level 2 Name: <code>{stage_name}</code></li>
<li><em>e.g:</em></li>
<li><em>bronze/landing</em></li>
<li><em>bronze/ods</em></li>
<li><em>bronze/pds</em></li>
<li><em>bronze/schema</em> (for autoloader metadata)</li>
<li><em>bronze/checkpoints</em> (for autoloader metadata)</li>
<li><em>silver/automatically determined by unity catalog</em></li>
<li><em>gold/automatically determined by unity catalog</em></li>
</ul>
<h4 id="generic-blob-storage">Generic Blob storage</h4>
<p>Generic Blob storage can be used for all non-lakehouse data; or alternatively within the lakehouse storage account in the appropriate container and folder.</p>
<ul>
<li>Resource: ADLSGen2</li>
<li>Generic storage account name: <code>sa{organisation_name}{domain_name}{functional_description}</code></li>
<li>Tier: Standard/Premium (depends on workload)</li>
<li>Redundancy: </li>
<li>Minimum ZRS or GRS for prod</li>
<li>Minimum LRS for poc, dev, test and preprod</li>
</ul>
<h4 id="generic-blob-files-and-folders">Generic Blob files and folders</h4>
<p>No standard naming conventions for files and folders.</p>
<p><br></p>
<h2 id="databricks">Databricks</h2>
<hr />
<p>This section provides naming standards and conventions for Databricks.</p>
<h3 id="workspace-and-cluster-names">Workspace and cluster names</h3>
<hr />
<ul>
<li>Workspace name: <code>ws-{organisation_name}_{domain_name}</code></li>
<li>Cluster name: <code>{personal_name/shared_name} Cluster</code></li>
<li>Workflow name: <code>{dev/test} {workflow_name}</code></li>
</ul>
<h3 id="catalog-naming-and-conventions">Catalog naming and conventions</h3>
<hr />
<p>Refer to <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for further context and definitions applicable to this section.</p>
<p>Catalog name:</p>
<ul>
<li>Minimum granularity <code>{domain_name}{_environment (dev/test/pat/prod)}</code> (prod is implied optional)   <em>e.g: intuitas_corporate_dev</em></li>
<li>Optional granularity <code>{domain_name}{_data_stage: (bronze/silver/gold)}{_environment (dev/test/pat/prod)}</code>    <em>e.g: intuitas_corporate_bronze_dev</em></li>
<li>Optional granularity <code>{domain_name}{_descriptor (subdomain/subject/project*)}(bronze/silver/gold)}{_environment (dev/test/pat/prod)}</code>    <em>e.g: intuitas_corporate_finance_bronze_dev</em></li>
</ul>
<p><em>Note that projects are temporary constructs, and hence are not recommended for naming</em></p>
<ul>
<li>Catalog storage root: <code>abfss://{environment}@dl{organisation_name}{domain_name}.dfs.core.windows.net/{domain_name}_{environment}_catalog</code></li>
</ul>
<h3 id="externally-mounted-lakehouse-federation-catalog-names">Externally mounted (lakehouse federation) Catalog Names</h3>
<ul>
<li>Catalog name: <code>{domain_name (owner)} _ext__{source_system}{optional:__other_useful_descriptors e.g:_environment}</code></li>
<li><em>e.g: intuitas_corporate_ext__sqlonpremsource</em></li>
</ul>
<h3 id="catalog-metadata-tags">Catalog Metadata tags:</h3>
<p>The following metadata should be added when creating a catalog:</p>
<ul>
<li>Key: domain (owner): <code>{domain_name}</code></li>
<li>Key: environment: <code>{environment}</code></li>
<li>Key: managing_domain: <code>{domain_name}</code> e.g: if delegating to engineering domain</li>
</ul>
<h3 id="schema-and-object-conventions">Schema and object conventions</h3>
<hr />
<p>Refer to <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for further context and definitions applicable to this section.</p>
<p><br></p>
<h4 id="schema-level-external-storage-locations">Schema level external storage locations</h4>
<p>Recommendations:</p>
<ul>
<li>For managed tables (default): do nothing.  Let dbt create schemas without additional configuration. Databricks will manage storage and metadata.Objects will then be stored in the catalog storage root.</li>
<li>
<p><em>e.g: abfss://dev@dlintutiasengineering.dfs.core.windows.net/intuitas_engineering_dev_catalog/__unitystorage/catalogs/catalog-guid/tables/object-guid</em></p>
</li>
<li>
<p>For granular control over schema-level storage locations: Pre-create schemas with LOCATION mapped to external paths or configure the catalog-level location.</p>
</li>
<li>Ensure dbt's dbt_project.yml and environment variables align with storage locations.</li>
</ul>
<p><br></p>
<h4 id="metadata-schemas-and-objects">Metadata Schemas and Objects</h4>
<p>Refer to <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for further context and definitions applicable to this section.</p>
<p>Contains metadata that supports engineering and governance. This will vary depending on engineering and governance toolsets</p>
<p><strong>Engineering - ingestion framework</strong>:
- Schema naming convention:  <code>meta__{optional: function}</code>
- Naming convention: <code>{function/descriptor}</code></p>
<p><em>e.g: intuitas_corporate_dev.meta__ingestion.ingestion_control</em></p>
<p><br></p>
<h4 id="bronze-raw-data-according-to-systems">Bronze (Raw data according to systems)</h4>
<p>The Bronze layer stores raw, immutable data as it is ingested from source systems. See <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for definitions and context.</p>
<p>All schemas are may be optionally prefixed with <code>bronze__</code></p>
<p><strong>Persistent Landing</strong>:
- N/A (see file naming)</p>
<p><strong>Operational Data Store (ODS)</strong>:
- Schema naming convention: <code>ods{optional: __domain name}{optional: __subdomain name(s)}</code>
- Object naming convention: <code>ods__{source_system}__{source_channel}__{object}</code></p>
<p><em>e.g: intuitas_corporate_dev.ods.ods__finance_system__adf__accounts</em></p>
<p><strong>Persistent Data Store (PDS)</strong>:
- Schema naming convention: <code>pds{optional: __domain name}{optional: __subdomain name(s)}</code>
- Object naming convention: <code>pds__{source_system}__{source_channel}__{object}</code></p>
<p><em>e.g: intuitas_corporate_dev.pds.pds__finance_system__adf__accounts</em></p>
<p><br></p>
<h4 id="silver-data-according-to-business-entities">Silver (Data according to business entities)</h4>
<p>The Silver layer focuses on transforming raw data into cleaned, enriched, and validated datasets that are the building blocks for downstream consumption and analysis.</p>
<p>Refer to <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for further context and definitions applicable to this section.</p>
<p>These marts are objects that are aligned to business entities and broad requirements, hence they must contain source-specific objects at the lowest grain. There may be further enrichment and joins applied across sources.</p>
<ul>
<li>All schemas are may be optionally prefixed with <code>silver</code></li>
<li>All <code>entity</code> names which align to facts should be named in plural.</li>
<li>All <code>entity</code> names which align to dims should be named in singular.</li>
</ul>
<p><br></p>
<p><strong>(Silver) Staging Objects</strong>:</p>
<p>Staging models serve as intermediary models that transform source data into the target silver model. According to dbt best practices, there is a distinction between Staging and Intermediate models. Under this blueprint the use of Intermediate models is optional. <a href="https://docs.getdbt.com/best-practices/how-we-structure/1-guide-overview">Reference</a></p>
<p>These models exist to stage silver marts only.</p>
<ul>
<li>
<p>Source-specific:</p>
</li>
<li>
<p>Schema naming convention: <code>stg__{source_system}__{source_channel}</code></p>
</li>
<li>
<p>Object naming convention: <code>{entity}__{object_description}__{n}__{transformation}__{source_system}__{source_channel}</code></p>
<ul>
<li><em>e.g: intuitas_corporate_dev.stg__new_finance_system__adf.accounts__01_renamed_and_typed__new_finance_system__adf</em></li>
<li>
<p><em>e.g: intuitas_corporate_dev.stg__new_finance_system__adf.accounts__02_cleaned__new_finance_system__adf</em></p>
</li>
<li>
<p><em>e.g: intuitas_corporate_dev.stg__old_finance_system__adf.accounts__01_renamed_and_typed__old_finance_system__adf</em></p>
</li>
</ul>
</li>
<li>
<p>Non-source specific</p>
</li>
<li>
<p>Schema naming convention: <code>stg{optional: __domain name}{optional: __subdomain name(s)}</code></p>
</li>
<li>
<p>Object naming convention to align with target mart: <code>stg__(optional:dim/fact)_{entity}__{object_description}__{n}__{transformation}</code></p>
<ul>
<li><em>e.g: intuitas_corporate_dev.stg.accounts__01_deduped</em></li>
<li><em>e.g: intuitas_corporate_dev.stg.accounts__02_business_validated</em> </li>
</ul>
</li>
<li>
<p>Examples of transformations:</p>
</li>
<li>
<p><code>01_renamed_and_typed</code></p>
</li>
<li><code>02_deduped</code></li>
<li><code>03_cleaned</code></li>
<li><code>04_filtered/split</code></li>
<li><code>05_column_selected</code></li>
<li><code>06_business_validated</code></li>
<li><code>07_desensitised</code></li>
</ul>
<p><em>e.g: intuitas_corporate_dev.stg__finance_system__adf.stg__finance_system__adf__account__01_renamed_and_typed</em></p>
<p><br></p>
<p><strong>(Silver) Base Information Marts</strong>:</p>
<p>Final products after staging:</p>
<ul>
<li>
<p>Source-specific:</p>
</li>
<li>
<p>Schema naming convention: <code>mart__{source_system}__{source_channel}</code></p>
</li>
<li>
<p>Object naming convention: <code>(optional:dim/fact)_{entity / _object_description}__{source_system}__{source_channel}</code></p>
<ul>
<li><em>e.g: intuitas_corporate_dev.mart__new_finance_system__adf.payment__new_finance_system__adf</em></li>
<li><em>e.g: intuitas_corporate_dev.mart__new_finance_system__adf.account__new_finance_system__adf</em></li>
<li><em>e.g: intuitas_corporate_dev.mart__old_finance_system__adf.account__old_finance_system__adf</em></li>
</ul>
</li>
<li>
<p>Non-source specific</p>
</li>
<li>
<p>Schema naming convention: <code>mart{optional: __domain name}{optional: __subdomain name(s)}</code></p>
</li>
<li>
<p>Object naming convention: <code>(optional:dim/fact)__{unified entity / _object_description}</code></p>
<ul>
<li><em>e.g: intuitas_corporate_dev.mart.account</em> (unified)</li>
<li><em>e.g: intuitas_corporate_dev.mart__corporate__finance.account</em> (unified)</li>
<li><em>e.g: intuitas_corporate_dev.mart__finance.account</em> (unified)</li>
<li><em>e.g: intuitas_corporate_dev.mart.account_join_with_payments</em> (joined across two systems)</li>
</ul>
</li>
</ul>
<p><br></p>
<p><strong>Reference Data</strong>:</p>
<p>Reference data objects that are aligned to business entities and broad requirements. These may also be staged in stg as per silver marts. These are typically not source-aligned but optionality for capturing sources exists.</p>
<ul>
<li>Schema naming convention: <code>ref{optional: __domain name}{optional: __subdomain name(s)}</code></li>
<li>Object naming convention: <code>{reference data set name} (optional:__{source_system}__{source_channel})</code></li>
</ul>
<p><em>e.g: intuitas_corporate_dev.ref.account_code</em></p>
<p><br></p>
<ol>
<li><strong>Raw Vault</strong>:</li>
</ol>
<p>Optional warehousing construct.</p>
<ul>
<li>Schema naming convention: <code>edw_rv</code></li>
<li>Object naming convention: <code>{vault object named as per data vault standards}</code></li>
</ul>
<p><em>e.g: intuitas_corporate_dev.edw_rv.hs_payments__finance_system__adf</em></p>
<p><br></p>
<ol>
<li>
<p><strong>Business Vault</strong>:</p>
</li>
<li>
<p>Schema naming convention: <code>edw_bv</code></p>
</li>
<li>Object naming convention: <code>{vault object named as per data vault standards}</code></li>
</ol>
<p><em>e.g: intuitas_corporate_dev.edw_bv.hs_late_payments__finance_system__adf</em></p>
<p><br></p>
<h4 id="gold-data-according-to-requirements">Gold (Data according to requirements)</h4>
<p>The Gold layer focuses on requirement-aligned products (datasets, aggregations, and reporting structures). Products are predominantly source agnostic, however optionality exists in case its needed.</p>
<p>Refer to <a href="../level_2/#data-layers-and-stages">Data layers and stages</a> for further context and definitions applicable to this section.</p>
<ul>
<li>All schemas are may be optionally prefixed with <code>gold</code></li>
<li>All <code>entity</code> names which align to facts should be named in plural.</li>
<li>All <code>entity</code> names which align to dims should be named in singular.</li>
</ul>
<p><br></p>
<ol>
<li><strong>(Gold) Staging Models</strong>:
   Staging models serve as intermediary models that transform source data into the target mart model. According to dbt best practices, there is a distinction between Staging and Intermediate models. Under this blueprint the use of Intermediate models is optional. <a href="https://docs.getdbt.com/best-practices/how-we-structure/1-guide-overview">Reference</a></li>
</ol>
<p>These models exist to stage gold marts only.</p>
<ul>
<li>Schema naming convention: <code>stg__{optional: __domain name}{optional: __subdomain name(s)}</code></li>
<li>Object naming convention to align to target mart: <code>(optional: dim/fact__){entity / product description}__{n}__{transformation}</code></li>
</ul>
<p><em>e.g: intuitas_corporate_dev.stg.fact__late_payments__01__pivoted_by_order</em>
   <em>e.g: intuitas_corporate_dev.stg__corporate.fact__late_payments__01__pivoted_by_order</em>
   <em>e.g: intuitas_corporate_dev.stg__corporate__finance.fact__late_payments__01__pivoted_by_order</em></p>
<p><br></p>
<ol>
<li>
<p><strong>(Gold) Information Marts</strong>:</p>
</li>
<li>
<p>Schema naming convention: <code>mart{optional: __domain name}{optional: __subdomain name(s)}</code></p>
</li>
<li>Dimension naming convention: <code>dim__{entity / product description} (optional: __{source_system}__{source_channel})</code></li>
<li>Fact naming convention: <code>fact__{entity / product description} (optional: __{source_system}__{source_channel})</code></li>
<li>
<p>Denormalized (One Big Table) Object naming convention: <code>{entity / product description} (optional: __{source_system}__{source_channel})</code></p>
</li>
<li>
<p>Required transformation: Business-specific transformations such as:</p>
<ul>
<li><code>pivoting</code></li>
<li><code>aggregation</code></li>
<li><code>joining</code></li>
<li><code>conformance</code></li>
<li><code>desensitization</code></li>
</ul>
</li>
</ol>
<p><em>e.g: intuitas_corporate_dev.mart.fact__late_payments</em>
   <em>e.g: intuitas_corporate_dev.mart.regionally_grouped_account_payments__old_finance_system__adf</em>
   <em>e.g: intuitas_corporate_dev.mart.regionally_grouped_account_payments__new_finance_system__adf</em>
   <em>e.g: intuitas_corporate_dev.mart.regionally_grouped_account_payments</em> (union of old and new)</p>
<h3 id="delta-sharing">Delta Sharing</h3>
<ul>
<li>Share names: {domain_name}<strong>{optional:subdomain_name}</strong>{optional:purpose}<strong>{schema_name or description}</strong>{object_name or description}__{share_purpose and or target_audience}</li>
</ul>
<p><em>e.g: intuitas_corporate__finance__reporting__account_payments__payments</em></p>
<p><br></p>
<h2 id="azure-data-factory">Azure Data Factory</h2>
<ul>
<li>
<p>Linked service names: ls_{database_name}(if not in database_name:{<em>organisation_name}</em>{domain_name})
<em>e.g: ls_financedb_intuitas_corporate</em></p>
</li>
<li>
<p>Dataset names: ds_{database_name}_{object_name}</p>
</li>
<li>Pipeline names: pl_{description: e.g copy_{source_name}<em>to</em>{destination_name}}</li>
<li>Trigger names: tr_{pipeline_name}_{optional:start_time / frequency}</li>
</ul>
<p><br>  </p>
<h2 id="streaming">Streaming</h2>
<ul>
<li>Cluster name: {domain_name}<strong>cluster</strong>{optional:environment}</li>
<li>Topic names: {domain_name}<strong>{object/entity?}</strong>{optional:source_system}<strong><em>{optional:source</em>channel}</strong>{optional:environment}</li>
<li>Consumer group names: {domain_name}<strong>{unique_group_name}</strong>{optional:environment}</li>
</ul>
<p><br>  </p>
<h2 id="dbt">dbt</h2>
<p>The following standards and conventions relate to dbt projects.</p>
<h3 id="documentation-and-model-metadata">Documentation and model metadata</h3>
<p>Within each respective model folder (as needed)</p>
<ul>
<li>md: _{path to model folder using _ separators}__docs.md </li>
<li>
<p><em>e.g: models/silver/ambo_sim__kafka__local/_silver__ambo_sim__kafka__local__docs.md</em></p>
</li>
<li>
<p>model yml: _{path to model folder using _ separators}__models.yml 
-<em>e.g: models/silver/ambo_sim__kafka__local/_silver__ambo_sim__kafka__local__models.yml</em></p>
</li>
</ul>
<h3 id="sources">Sources</h3>
<ul>
<li>Folder: models/sources/{bronze/silver/gold}</li>
<li>yml: {schema}__sources.yml (one for each source schema) </li>
</ul>
<p><em>e.g: bronze__ods__ambo_sim__kafka__local__sources.yml</em></p>
<h3 id="model-and-folder-names">Model and Folder Names</h3>
<p>dbt model names are verbose (inclusive of zone and domain) to ensure global uniqueness and better traceability to folders. Actual object names should be aliased to match object naming standards.</p>
<h4 id="bronze">Bronze</h4>
<p><em>Bronze objects are likely to be referenced in sources/bronze or as seeds</em></p>
<ul>
<li>Folder: <code>models/bronze/{optional: domain name}{optional: __subdomain name(s)}/</code></li>
<li>Folder: <code>sources/bronze/{optional: domain name}{optional: __subdomain name(s)}/</code></li>
<li>Folder: <code>seeds/{optional: domain name}{optional: __subdomain name(s)}/</code></li>
</ul>
<h4 id="silver">Silver</h4>
<ul>
<li>
<p>Staging Source-specific: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/stg/{source_system}__{source_channel}/</code></p>
</li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__silver} __stg{__entity /_object_description} __{ordinal}_{transformation description} __{source_system} __{source_channel}</code></li>
</ul>
<pre><code class="language-md">   *e.g:*
   - *silver\new_finance_system__adf\stg\intuitas_corporate__silver__stg__accounts__01_renamed_and_typed__new_finance_system__adf.sql*
   - or *silver\new_finance_system__adf\stg\stg__accounts__01_renamed_and_typed__new_finance_system__adf.sql*
   - materialises to: *intuitas_corporate_dev.stg__new_finance_system__adf.accounts__01_renamed_and_typed__new_finance_system__adf*
</code></pre>
<ul>
<li>
<p>Staging Non-source-specific (entity centric): </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity}/stg</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__silver__} stg{__optional:dim/fact}{__entity /_object_description} __{ordinal}_{transformation description}</code></p>
<ul>
<li><em>e.g: intuitas_corporate_dev.stg.accounts__01_deduped</em></li>
<li><em>e.g: intuitas_corporate_dev.stg.accounts__02_business_validated</em> </li>
</ul>
</li>
</ul>
<pre><code class="language-md">   *e.g:*
   - *silver\mart\accounts\stg\intuitas_corporate__silver__stg__accounts__01_deduped.sql*
   - or *silver\mart\accounts\stg\stg__accounts__01_deduped.sql*
   - materialises to: *e.g: intuitas_corporate_dev.stg.accounts__01_deduped*
</code></pre>
<ul>
<li>
<p>Mart Source-specific: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity}</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__silver__} mart{__optional:dim/fact}{__entity /_object_description}__{source_system}__{source_channel}</code></p>
</li>
<li>
<p>Mart Non-source specific: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity}</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__silver__} mart{__optional:dim/fact}{__unified entity /_object_description}</code></p>
</li>
<li>
<p>Reference Data: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/ref/{entity}</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__silver__} ref{__optional:dim/fact} {__reference data set name} {optional:__{source_system}__{source_channel}}</code></p>
</li>
<li>
<p>Raw Vault: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/edw/rv</code></p>
</li>
<li>
<p>Models: <code>edw_rv__{vault object named as per data vault standards}</code></p>
</li>
<li>
<p>Schema naming convention: </p>
</li>
<li>
<p>Folder: <code>models/silver/{optional: domain name}{optional: __subdomain name(s)}/edw/bv</code></p>
</li>
<li>Models: <code>edw_bv__{vault object named as per data vault standards}</code></li>
</ul>
<h4 id="gold">Gold</h4>
<ul>
<li>
<p>Staging: </p>
</li>
<li>
<p>Folder: <code>models/gold/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}/stg</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__gold__} mart__stg{__entity / product description} __{ordinal}_{transformation description} {optional: __{source_system} __{source_channel}}</code></p>
</li>
<li>
<p>Dimensions: </p>
</li>
<li>
<p>Folder: <code>models/gold/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__gold__}  mart__dim{__entity / product description} (optional: __{source_system} __{source_channel}) {optional: __{source_system} __{source_channel}}</code></p>
</li>
<li>
<p>Facts: </p>
</li>
<li>
<p>Folder: <code>models/gold/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></p>
</li>
<li>
<p>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__gold__} mart__fact{__entity / product description} (optional: __{source_system} __{source_channel}) {optional: __{source_system} __{source_channel}}</code></p>
</li>
<li>
<p>Denormalized (One Big Table): </p>
</li>
<li>
<p>Folder: <code>models/gold/{optional: domain name}{optional: __subdomain name(s)}/mart/{entity / product description}</code></p>
</li>
<li>Models: <code>{optional: domain name} {optional: __subdomain name(s)} {optional:__gold__} mart__{entity / product description} {optional: __{source_system} __{source_channel}}</code></li>
</ul>
<h4 id="example-dbt-model-structure">Example dbt model structure:</h4>
<p>The model structure below reflects a single catalog for domain+environment and schema separation for layers and stages:</p>
<pre><code class="language-md">{{domain/enterprise} _project_name}
├── README.md
├── analyses
├── seeds
│   └── ref_entity_data_file.csv
├── dbt_project.yml
├── macros
│   └── custom_macro.sql
│   ├── utilities
│       └── all_dates.sql
├── models/bronze
│   /{optional: domain and subdomains}
│   └── _bronze.md
├── models/silver/{optional: domain and subdomains}
│   /{optional: domain and subdomains}
│   ├── _silver.md
│   ├── mart  (entity centric objects)
│   |    └── account
│   |    |   └── mart__dim_account.sql
│   |    |       └── stg
│   |    |           └── stg__dim_account__01_dedupe.sql
│   |    |           └── stg__dim_account__02_filter.sql
│   |    └── date
│   |        └── mart__dim_date.sql
│   └── ref
│       ├── _reference_data__models.yml
│       ├── _reference_data__sources.yml
│       └── ref_{entity}.sql
│   ├── stg (source centric staging objects)
│   |   └── source_system_1 
│   |       ├── _source_system_1__docs.md
│   |       ├── _source_system_1__models.yml
│   |       ├── stg__object__source_system_1.sql
│   |       ├── stg__(new object)__source_system_1.sql
│   |       ├── stg__object_desensitised__source_system_1.sql
│   |       └── stg
│   |           ├── stg__object__01_step__source_system_1.sql
│   |           └── stg__object__02_step__source_system_1.sql
│   ├── sources
│        └── {optional: domain}
│        └── {optional: bronze/silver/gold}
│             └── _source_system_1__sources.yml 
├── models/gold
│   /{optional: domain and subdomains}
│   ├── _gold.md
│   └── domain_name e.g: finance 
│       └── mart
│           ├── _finance__models.yml
│           ├── orders.sql
│           └── payments.sql
│               └── stg
│                   └── stg_payments_pivoted_to_orders.sql
├── packages.yml
├── snapshots
└── tests
    └── assert_positive_value_for_total_amount.sql
</code></pre>
<h3 id="dbt_projectyml">dbt_project.yml</h3>
<p>The yml structure below reflects a single catalog for domain+environment and schema separation for layers and stages:</p>
<pre><code class="language-yml">models:
  health_lakehouse__engineering__dbt:
    +persist_docs: #enables injection of metadata into unity catalog
        relation: true
        columns: true

    bronze:
      +schema: bronze

    silver:
      +schema: silver
      source_system_1:
        +schema: silver__source_system_1
        base:
          +materialized: view
        staging:
          +materialized: table
      edw__domain_name:
        +description: &quot;Domain-centric EDW objects.&quot;
        +schema: silver__edw__domain_name
        +materialized: table

    gold:
      +materialized: view # default for speed
      +schema: gold
      domain_name:
        +schema: gold__domain_name
        subdomain_name:
          +schema: gold__domain_name__subdomain_name
</code></pre>
<p><br></p>
<h2 id="cicd">CI/CD</h2>
<p>The following standards and conventions relate to Continuous Improvement and Continuous Delivery constructs.</p>
<h3 id="repository-naming">Repository naming</h3>
<ul>
<li>All lowercase with hyphens as separators</li>
<li>Format: <code>{org}-{domain}-{purpose}-{optional:descriptor}</code></li>
</ul>
<p>Examples:
   - intuitas-corporate-dbt
   - intuitas-corporate-ingestion-framework<br />
   - intuitas-corporate-cicd-templates
   - intuitas-corporate-infrastructure</p>
<h3 id="branch-naming">Branch naming</h3>
<ul>
<li>All lowercase with hyphens as separators</li>
<li>Naming convention: <code>{type}-{optional:ticket-id}-{description}</code></li>
</ul>
<p>Types:
   - feature: New functionality
   - bugfix: Bug fixes
   - hotfix: Critical fixes for production
   - release: Release branches
   - docs: Documentation updates only
   - refactor: Code improvements with no functional changes
   - test: Test-related changes</p>
<p>Examples:
   - feature-eng123-add-new-data-source
   - bugfix-eng456-fix-null-values
   - hotfix-prod-outage-fix
   - release-v2.1.0
   - docs-update-readme
   - refactor-optimize-transforms
   - test-add-integration-tests</p>
<h3 id="branch-lifecycle">Branch lifecycle</h3>
<h4 id="simple-branch-lifecycle">Simple branch lifecycle:</h4>
<ul>
<li>main/master: Primary branch</li>
<li>branch: Short-lived branches development branch, merged or rebased to main/master</li>
</ul>
<h4 id="comprehensive-team-branch-lifecycle">Comprehensive team branch lifecycle:</h4>
<ol>
<li>Main/master: Primary branch</li>
<li>Development: Active development branch</li>
<li>Feature/bugfix: Short-lived branches merged to development</li>
<li>Release: Created from development, merged to main/master</li>
<li>Hotfix: Created from main/master for urgent fixes</li>
</ol>
<h3 id="databricks-asset-bundles">Databricks Asset Bundles</h3>
<p>Databricks asset bundles are encouraged for all Databricks projects.</p>
<ul>
<li>project/bundle name: </li>
<li><code>{domain_name}__databricks</code> (for general databricks projects)</li>
<li>
<p><code>{domain_name}__dbt</code> (for dbt databricks bundles)</p>
</li>
<li>
<p>Bundle tags:</p>
</li>
<li>Key: <code>environment: {environment}</code></li>
<li>Key: <code>manager: {team_name}</code> and or <code>{email_address}</code></li>
<li>Key: <code>managing_domain:</code>{domain_name}` e.g: if delegating to engineering domain</li>
<li>Key: <code>owner: {owner_name}</code></li>
<li>Key: <code>owning_domain: {domain_name}</code></li>
<li>Key: <code>dab: {bundle_name}</code></li>
<li>Key: <code>project: {project_name}</code></li>
</ul>
<p>e.g:
   <code>yml
   tags:
      environment: ${bundle.target}
      project: health-lakehouse
      dab: health_lakehouse__engineering__databricks
      owning_domain: intuitas_engineering
      owner: engineering-admin@intuitas.com
      manager: engineering-engineer@intuitas.com
      managing_domain: intuitas_engineering</code></p>
<ul>
<li>Resources:</li>
<li>Folder level 1: <code>{meaningful sub-project name}</code></li>
<li>
<p>Folder level 2: </p>
<ul>
<li>notebooks</li>
<li>workflows</li>
</ul>
</li>
<li>
<p>Databricks.yml</p>
</li>
<li>For both dev and prod: <code>root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}</code></li>
</ul>
<p>Example databricks.yml</p>
<pre><code class="language-yml"># This is a Databricks asset bundle definition for health_lakehouse__engineering.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: health_lakehouse__engineering__databricks

variables:
  default_cluster_id:
    value: &quot;-----&quot;  


include:
  - resources/*.yml
  - resources/**/*.yml
  - resources/**/**/*.yml

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://------.15.azuredatabricks.net
      root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}
  prod:
    mode: production
    workspace:
      host: https://------.15.azuredatabricks.net
      root_path: /Workspace/Users/engineering-engineer@intuitas.com/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: engineering-engineer@intuitas.com
        level: CAN_MANAGE
    run_as:
      user_name: engineering-engineer@intuitas.com
</code></pre>
<p><br></p>
<h2 id="security">Security</h2>
<h3 id="entra-group-names_1">Entra Group Names</h3>
<p>TBC</p>
<h3 id="policies">Policies</h3>
<ul>
<li><strong>Data Retention</strong></li>
<li><strong>Key Retention</strong></li>
</ul>
<h3 id="frameworks">Frameworks</h3>
<ul>
<li><strong>Engineering</strong></li>
<li><strong>Security</strong></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
